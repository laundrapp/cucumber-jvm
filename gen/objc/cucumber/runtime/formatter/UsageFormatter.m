//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/marcussmith/HambroPerks/laundrapp_org/cucumber-jvm/core/src/main/java/cucumber/runtime/formatter/UsageFormatter.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "cucumber/api/Result.h"
#include "cucumber/api/TestStep.h"
#include "cucumber/api/event/EventHandler.h"
#include "cucumber/api/event/EventPublisher.h"
#include "cucumber/api/event/TestRunFinished.h"
#include "cucumber/api/event/TestStepFinished.h"
#include "cucumber/api/formatter/NiceAppendable.h"
#include "cucumber/runtime/formatter/UsageFormatter.h"
#include "gherkin/deps/com/google/gson/Gson.h"
#include "gherkin/deps/com/google/gson/GsonBuilder.h"
#include "java/lang/Appendable.h"
#include "java/lang/Long.h"
#include "java/math/BigDecimal.h"
#include "java/util/ArrayList.h"
#include "java/util/Collections.h"
#include "java/util/HashMap.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"

@interface CucumberRuntimeFormatterUsageFormatter () {
 @public
  id<JavaUtilMap> statisticStrategies_;
  CucumberApiFormatterNiceAppendable *out_;
  id<CucumberApiEventEventHandler> stepFinishedHandler_;
  id<CucumberApiEventEventHandler> runFinishedHandler_;
}

- (id<JavaUtilList>)createStepContainerWithJavaUtilList:(id<JavaUtilList>)stepContainers;

- (void)formatDurationAsSecondsWithJavaUtilList:(id<JavaUtilList>)durations;

- (id<JavaUtilMap>)createAggregatedDurationsWithCucumberRuntimeFormatterUsageFormatter_StepContainer:(CucumberRuntimeFormatterUsageFormatter_StepContainer *)stepContainer;

- (JavaMathBigDecimal *)toSecondsWithJavaLangLong:(JavaLangLong *)nanoSeconds;

- (id<JavaUtilList>)getRawDurationsWithJavaUtilList:(id<JavaUtilList>)stepDurations;

- (GherkinDepsComGoogleGsonGson *)gson;

- (void)addUsageEntryWithCucumberApiResult:(CucumberApiResult *)result
                              withNSString:(NSString *)stepDefinition
                              withNSString:(NSString *)stepNameWithArgs
                              withNSString:(NSString *)stepLocation;

- (CucumberRuntimeFormatterUsageFormatter_StepDuration *)createStepDurationWithJavaLangLong:(JavaLangLong *)duration
                                                                               withNSString:(NSString *)location;

- (CucumberRuntimeFormatterUsageFormatter_StepContainer *)findOrCreateStepContainerWithNSString:(NSString *)stepNameWithArgs
                                                                               withJavaUtilList:(id<JavaUtilList>)stepContainers;

@end

J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterUsageFormatter, statisticStrategies_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterUsageFormatter, out_, CucumberApiFormatterNiceAppendable *)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterUsageFormatter, stepFinishedHandler_, id<CucumberApiEventEventHandler>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterUsageFormatter, runFinishedHandler_, id<CucumberApiEventEventHandler>)

inline JavaMathBigDecimal *CucumberRuntimeFormatterUsageFormatter_get_NANOS_PER_SECOND(void);
static JavaMathBigDecimal *CucumberRuntimeFormatterUsageFormatter_NANOS_PER_SECOND;
J2OBJC_STATIC_FIELD_OBJ_FINAL(CucumberRuntimeFormatterUsageFormatter, NANOS_PER_SECOND, JavaMathBigDecimal *)

__attribute__((unused)) static id<JavaUtilList> CucumberRuntimeFormatterUsageFormatter_createStepContainerWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter *self, id<JavaUtilList> stepContainers);

__attribute__((unused)) static void CucumberRuntimeFormatterUsageFormatter_formatDurationAsSecondsWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter *self, id<JavaUtilList> durations);

__attribute__((unused)) static id<JavaUtilMap> CucumberRuntimeFormatterUsageFormatter_createAggregatedDurationsWithCucumberRuntimeFormatterUsageFormatter_StepContainer_(CucumberRuntimeFormatterUsageFormatter *self, CucumberRuntimeFormatterUsageFormatter_StepContainer *stepContainer);

__attribute__((unused)) static JavaMathBigDecimal *CucumberRuntimeFormatterUsageFormatter_toSecondsWithJavaLangLong_(CucumberRuntimeFormatterUsageFormatter *self, JavaLangLong *nanoSeconds);

__attribute__((unused)) static id<JavaUtilList> CucumberRuntimeFormatterUsageFormatter_getRawDurationsWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter *self, id<JavaUtilList> stepDurations);

__attribute__((unused)) static GherkinDepsComGoogleGsonGson *CucumberRuntimeFormatterUsageFormatter_gson(CucumberRuntimeFormatterUsageFormatter *self);

__attribute__((unused)) static void CucumberRuntimeFormatterUsageFormatter_addUsageEntryWithCucumberApiResult_withNSString_withNSString_withNSString_(CucumberRuntimeFormatterUsageFormatter *self, CucumberApiResult *result, NSString *stepDefinition, NSString *stepNameWithArgs, NSString *stepLocation);

__attribute__((unused)) static CucumberRuntimeFormatterUsageFormatter_StepDuration *CucumberRuntimeFormatterUsageFormatter_createStepDurationWithJavaLangLong_withNSString_(CucumberRuntimeFormatterUsageFormatter *self, JavaLangLong *duration, NSString *location);

__attribute__((unused)) static CucumberRuntimeFormatterUsageFormatter_StepContainer *CucumberRuntimeFormatterUsageFormatter_findOrCreateStepContainerWithNSString_withJavaUtilList_(CucumberRuntimeFormatterUsageFormatter *self, NSString *stepNameWithArgs, id<JavaUtilList> stepContainers);

@interface CucumberRuntimeFormatterUsageFormatter_1 : NSObject < CucumberApiEventEventHandler > {
 @public
  CucumberRuntimeFormatterUsageFormatter *this$0_;
}

- (instancetype)initWithCucumberRuntimeFormatterUsageFormatter:(CucumberRuntimeFormatterUsageFormatter *)outer$;

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestStepFinished *)event;

@end

J2OBJC_EMPTY_STATIC_INIT(CucumberRuntimeFormatterUsageFormatter_1)

__attribute__((unused)) static void CucumberRuntimeFormatterUsageFormatter_1_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter_1 *self, CucumberRuntimeFormatterUsageFormatter *outer$);

__attribute__((unused)) static CucumberRuntimeFormatterUsageFormatter_1 *new_CucumberRuntimeFormatterUsageFormatter_1_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static CucumberRuntimeFormatterUsageFormatter_1 *create_CucumberRuntimeFormatterUsageFormatter_1_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter *outer$);

@interface CucumberRuntimeFormatterUsageFormatter_2 : NSObject < CucumberApiEventEventHandler > {
 @public
  CucumberRuntimeFormatterUsageFormatter *this$0_;
}

- (instancetype)initWithCucumberRuntimeFormatterUsageFormatter:(CucumberRuntimeFormatterUsageFormatter *)outer$;

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestRunFinished *)event;

@end

J2OBJC_EMPTY_STATIC_INIT(CucumberRuntimeFormatterUsageFormatter_2)

__attribute__((unused)) static void CucumberRuntimeFormatterUsageFormatter_2_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter_2 *self, CucumberRuntimeFormatterUsageFormatter *outer$);

__attribute__((unused)) static CucumberRuntimeFormatterUsageFormatter_2 *new_CucumberRuntimeFormatterUsageFormatter_2_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static CucumberRuntimeFormatterUsageFormatter_2 *create_CucumberRuntimeFormatterUsageFormatter_2_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter *outer$);

@interface CucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy : NSObject

@end

@interface CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy ()

- (jboolean)verifyNoNullsWithJavaUtilList:(id<JavaUtilList>)durationEntries;

@end

__attribute__((unused)) static jboolean CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy_verifyNoNullsWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy *self, id<JavaUtilList> durationEntries);

@interface CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy ()

- (jboolean)verifyNoNullsWithJavaUtilList:(id<JavaUtilList>)durationEntries;

@end

__attribute__((unused)) static jboolean CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy_verifyNoNullsWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy *self, id<JavaUtilList> durationEntries);

J2OBJC_INITIALIZED_DEFN(CucumberRuntimeFormatterUsageFormatter)

@implementation CucumberRuntimeFormatterUsageFormatter

- (instancetype)initWithJavaLangAppendable:(id<JavaLangAppendable>)outArg {
  CucumberRuntimeFormatterUsageFormatter_initWithJavaLangAppendable_(self, outArg);
  return self;
}

- (void)setEventPublisherWithCucumberApiEventEventPublisher:(id<CucumberApiEventEventPublisher>)publisher {
  [((id<CucumberApiEventEventPublisher>) nil_chk(publisher)) registerHandlerForWithIOSClass:CucumberApiEventTestStepFinished_class_() withCucumberApiEventEventHandler:stepFinishedHandler_];
  [publisher registerHandlerForWithIOSClass:CucumberApiEventTestRunFinished_class_() withCucumberApiEventEventHandler:runFinishedHandler_];
}

- (void)handleTestStepFinishedWithCucumberApiEventTestStepFinished:(CucumberApiEventTestStepFinished *)event {
  if (![((CucumberApiTestStep *) nil_chk(((CucumberApiEventTestStepFinished *) nil_chk(event))->testStep_)) isHook] && [((CucumberApiResult *) nil_chk(event->result_)) isWithCucumberApiResult_Type:JreLoadEnum(CucumberApiResult_Type, PASSED)]) {
    CucumberRuntimeFormatterUsageFormatter_addUsageEntryWithCucumberApiResult_withNSString_withNSString_withNSString_(self, event->result_, [event->testStep_ getPattern], [event->testStep_ getStepText], [event->testStep_ getStepLocation]);
  }
}

- (void)finishReport {
  id<JavaUtilList> stepDefContainers = create_JavaUtilArrayList_init();
  for (id<JavaUtilMap_Entry> __strong usageEntry in nil_chk([((id<JavaUtilMap>) nil_chk(usageMap_)) entrySet])) {
    CucumberRuntimeFormatterUsageFormatter_StepDefContainer *stepDefContainer = create_CucumberRuntimeFormatterUsageFormatter_StepDefContainer_init();
    [stepDefContainers addWithId:stepDefContainer];
    JreStrongAssign(&stepDefContainer->source_, [((id<JavaUtilMap_Entry>) nil_chk(usageEntry)) getKey]);
    JreStrongAssign(&stepDefContainer->steps_, CucumberRuntimeFormatterUsageFormatter_createStepContainerWithJavaUtilList_(self, [usageEntry getValue]));
  }
  [((CucumberApiFormatterNiceAppendable *) nil_chk(out_)) appendWithJavaLangCharSequence:[((GherkinDepsComGoogleGsonGson *) nil_chk(CucumberRuntimeFormatterUsageFormatter_gson(self))) toJsonWithId:stepDefContainers]];
  [out_ close];
}

- (id<JavaUtilList>)createStepContainerWithJavaUtilList:(id<JavaUtilList>)stepContainers {
  return CucumberRuntimeFormatterUsageFormatter_createStepContainerWithJavaUtilList_(self, stepContainers);
}

- (void)formatDurationAsSecondsWithJavaUtilList:(id<JavaUtilList>)durations {
  CucumberRuntimeFormatterUsageFormatter_formatDurationAsSecondsWithJavaUtilList_(self, durations);
}

- (id<JavaUtilMap>)createAggregatedDurationsWithCucumberRuntimeFormatterUsageFormatter_StepContainer:(CucumberRuntimeFormatterUsageFormatter_StepContainer *)stepContainer {
  return CucumberRuntimeFormatterUsageFormatter_createAggregatedDurationsWithCucumberRuntimeFormatterUsageFormatter_StepContainer_(self, stepContainer);
}

- (JavaMathBigDecimal *)toSecondsWithJavaLangLong:(JavaLangLong *)nanoSeconds {
  return CucumberRuntimeFormatterUsageFormatter_toSecondsWithJavaLangLong_(self, nanoSeconds);
}

- (id<JavaUtilList>)getRawDurationsWithJavaUtilList:(id<JavaUtilList>)stepDurations {
  return CucumberRuntimeFormatterUsageFormatter_getRawDurationsWithJavaUtilList_(self, stepDurations);
}

- (GherkinDepsComGoogleGsonGson *)gson {
  return CucumberRuntimeFormatterUsageFormatter_gson(self);
}

- (void)addUsageEntryWithCucumberApiResult:(CucumberApiResult *)result
                              withNSString:(NSString *)stepDefinition
                              withNSString:(NSString *)stepNameWithArgs
                              withNSString:(NSString *)stepLocation {
  CucumberRuntimeFormatterUsageFormatter_addUsageEntryWithCucumberApiResult_withNSString_withNSString_withNSString_(self, result, stepDefinition, stepNameWithArgs, stepLocation);
}

- (CucumberRuntimeFormatterUsageFormatter_StepDuration *)createStepDurationWithJavaLangLong:(JavaLangLong *)duration
                                                                               withNSString:(NSString *)location {
  return CucumberRuntimeFormatterUsageFormatter_createStepDurationWithJavaLangLong_withNSString_(self, duration, location);
}

- (CucumberRuntimeFormatterUsageFormatter_StepContainer *)findOrCreateStepContainerWithNSString:(NSString *)stepNameWithArgs
                                                                               withJavaUtilList:(id<JavaUtilList>)stepContainers {
  return CucumberRuntimeFormatterUsageFormatter_findOrCreateStepContainerWithNSString_withJavaUtilList_(self, stepNameWithArgs, stepContainers);
}

- (void)addUsageStatisticStrategyWithNSString:(NSString *)key
withCucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy:(id<CucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy>)strategy {
  [((id<JavaUtilMap>) nil_chk(statisticStrategies_)) putWithId:key withId:strategy];
}

- (void)dealloc {
  RELEASE_(usageMap_);
  RELEASE_(statisticStrategies_);
  RELEASE_(out_);
  RELEASE_(stepFinishedHandler_);
  RELEASE_(runFinishedHandler_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 1, 2, -1, -1, -1, -1 },
    { NULL, "V", 0x0, 3, 4, -1, -1, -1, -1 },
    { NULL, "V", 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaUtilList;", 0x2, 5, 6, -1, 7, -1, -1 },
    { NULL, "V", 0x2, 8, 6, -1, 9, -1, -1 },
    { NULL, "LJavaUtilMap;", 0x2, 10, 11, -1, 12, -1, -1 },
    { NULL, "LJavaMathBigDecimal;", 0x2, 13, 14, -1, -1, -1, -1 },
    { NULL, "LJavaUtilList;", 0x2, 15, 6, -1, 16, -1, -1 },
    { NULL, "LGherkinDepsComGoogleGsonGson;", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 17, 18, -1, -1, -1, -1 },
    { NULL, "LCucumberRuntimeFormatterUsageFormatter_StepDuration;", 0x2, 19, 20, -1, -1, -1, -1 },
    { NULL, "LCucumberRuntimeFormatterUsageFormatter_StepContainer;", 0x2, 21, 22, -1, 23, -1, -1 },
    { NULL, "V", 0x1, 24, 25, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithJavaLangAppendable:);
  methods[1].selector = @selector(setEventPublisherWithCucumberApiEventEventPublisher:);
  methods[2].selector = @selector(handleTestStepFinishedWithCucumberApiEventTestStepFinished:);
  methods[3].selector = @selector(finishReport);
  methods[4].selector = @selector(createStepContainerWithJavaUtilList:);
  methods[5].selector = @selector(formatDurationAsSecondsWithJavaUtilList:);
  methods[6].selector = @selector(createAggregatedDurationsWithCucumberRuntimeFormatterUsageFormatter_StepContainer:);
  methods[7].selector = @selector(toSecondsWithJavaLangLong:);
  methods[8].selector = @selector(getRawDurationsWithJavaUtilList:);
  methods[9].selector = @selector(gson);
  methods[10].selector = @selector(addUsageEntryWithCucumberApiResult:withNSString:withNSString:withNSString:);
  methods[11].selector = @selector(createStepDurationWithJavaLangLong:withNSString:);
  methods[12].selector = @selector(findOrCreateStepContainerWithNSString:withJavaUtilList:);
  methods[13].selector = @selector(addUsageStatisticStrategyWithNSString:withCucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "NANOS_PER_SECOND", "LJavaMathBigDecimal;", .constantValue.asLong = 0, 0x1a, -1, 26, -1, -1 },
    { "usageMap_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x10, -1, -1, 27, -1 },
    { "statisticStrategies_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, 28, -1 },
    { "out_", "LCucumberApiFormatterNiceAppendable;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "stepFinishedHandler_", "LCucumberApiEventEventHandler;", .constantValue.asLong = 0, 0x2, -1, -1, 29, -1 },
    { "runFinishedHandler_", "LCucumberApiEventEventHandler;", .constantValue.asLong = 0, 0x2, -1, -1, 30, -1 },
  };
  static const void *ptrTable[] = { "LJavaLangAppendable;", "setEventPublisher", "LCucumberApiEventEventPublisher;", "handleTestStepFinished", "LCucumberApiEventTestStepFinished;", "createStepContainer", "LJavaUtilList;", "(Ljava/util/List<Lcucumber/runtime/formatter/UsageFormatter$StepContainer;>;)Ljava/util/List<Lcucumber/runtime/formatter/UsageFormatter$StepContainer;>;", "formatDurationAsSeconds", "(Ljava/util/List<Lcucumber/runtime/formatter/UsageFormatter$StepDuration;>;)V", "createAggregatedDurations", "LCucumberRuntimeFormatterUsageFormatter_StepContainer;", "(Lcucumber/runtime/formatter/UsageFormatter$StepContainer;)Ljava/util/Map<Ljava/lang/String;Ljava/math/BigDecimal;>;", "toSeconds", "LJavaLangLong;", "getRawDurations", "(Ljava/util/List<Lcucumber/runtime/formatter/UsageFormatter$StepDuration;>;)Ljava/util/List<Ljava/lang/Long;>;", "addUsageEntry", "LCucumberApiResult;LNSString;LNSString;LNSString;", "createStepDuration", "LJavaLangLong;LNSString;", "findOrCreateStepContainer", "LNSString;LJavaUtilList;", "(Ljava/lang/String;Ljava/util/List<Lcucumber/runtime/formatter/UsageFormatter$StepContainer;>;)Lcucumber/runtime/formatter/UsageFormatter$StepContainer;", "addUsageStatisticStrategy", "LNSString;LCucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy;", &CucumberRuntimeFormatterUsageFormatter_NANOS_PER_SECOND, "Ljava/util/Map<Ljava/lang/String;Ljava/util/List<Lcucumber/runtime/formatter/UsageFormatter$StepContainer;>;>;", "Ljava/util/Map<Ljava/lang/String;Lcucumber/runtime/formatter/UsageFormatter$UsageStatisticStrategy;>;", "Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestStepFinished;>;", "Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestRunFinished;>;", "LCucumberRuntimeFormatterUsageFormatter_StepDefContainer;LCucumberRuntimeFormatterUsageFormatter_StepContainer;LCucumberRuntimeFormatterUsageFormatter_StepDuration;LCucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy;LCucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy;LCucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterUsageFormatter = { "UsageFormatter", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x10, 14, 6, -1, 31, -1, -1, -1 };
  return &_CucumberRuntimeFormatterUsageFormatter;
}

+ (void)initialize {
  if (self == [CucumberRuntimeFormatterUsageFormatter class]) {
    JreStrongAssign(&CucumberRuntimeFormatterUsageFormatter_NANOS_PER_SECOND, JavaMathBigDecimal_valueOfWithLong_(1000000000));
    J2OBJC_SET_INITIALIZED(CucumberRuntimeFormatterUsageFormatter)
  }
}

@end

void CucumberRuntimeFormatterUsageFormatter_initWithJavaLangAppendable_(CucumberRuntimeFormatterUsageFormatter *self, id<JavaLangAppendable> outArg) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->usageMap_, new_JavaUtilHashMap_init());
  JreStrongAssignAndConsume(&self->statisticStrategies_, new_JavaUtilHashMap_init());
  JreStrongAssignAndConsume(&self->stepFinishedHandler_, new_CucumberRuntimeFormatterUsageFormatter_1_initWithCucumberRuntimeFormatterUsageFormatter_(self));
  JreStrongAssignAndConsume(&self->runFinishedHandler_, new_CucumberRuntimeFormatterUsageFormatter_2_initWithCucumberRuntimeFormatterUsageFormatter_(self));
  JreStrongAssignAndConsume(&self->out_, new_CucumberApiFormatterNiceAppendable_initWithJavaLangAppendable_(outArg));
  [self addUsageStatisticStrategyWithNSString:@"median" withCucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy:create_CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy_init()];
  [self addUsageStatisticStrategyWithNSString:@"average" withCucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy:create_CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy_init()];
}

CucumberRuntimeFormatterUsageFormatter *new_CucumberRuntimeFormatterUsageFormatter_initWithJavaLangAppendable_(id<JavaLangAppendable> outArg) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterUsageFormatter, initWithJavaLangAppendable_, outArg)
}

CucumberRuntimeFormatterUsageFormatter *create_CucumberRuntimeFormatterUsageFormatter_initWithJavaLangAppendable_(id<JavaLangAppendable> outArg) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterUsageFormatter, initWithJavaLangAppendable_, outArg)
}

id<JavaUtilList> CucumberRuntimeFormatterUsageFormatter_createStepContainerWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter *self, id<JavaUtilList> stepContainers) {
  for (CucumberRuntimeFormatterUsageFormatter_StepContainer * __strong stepContainer in nil_chk(stepContainers)) {
    JreStrongAssign(&((CucumberRuntimeFormatterUsageFormatter_StepContainer *) nil_chk(stepContainer))->aggregatedDurations_, CucumberRuntimeFormatterUsageFormatter_createAggregatedDurationsWithCucumberRuntimeFormatterUsageFormatter_StepContainer_(self, stepContainer));
    CucumberRuntimeFormatterUsageFormatter_formatDurationAsSecondsWithJavaUtilList_(self, stepContainer->durations_);
  }
  return stepContainers;
}

void CucumberRuntimeFormatterUsageFormatter_formatDurationAsSecondsWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter *self, id<JavaUtilList> durations) {
  for (CucumberRuntimeFormatterUsageFormatter_StepDuration * __strong duration in nil_chk(durations)) {
    JreStrongAssign(&((CucumberRuntimeFormatterUsageFormatter_StepDuration *) nil_chk(duration))->duration_, CucumberRuntimeFormatterUsageFormatter_toSecondsWithJavaLangLong_(self, JavaLangLong_valueOfWithLong_([((JavaMathBigDecimal *) nil_chk(duration->duration_)) longLongValue])));
  }
}

id<JavaUtilMap> CucumberRuntimeFormatterUsageFormatter_createAggregatedDurationsWithCucumberRuntimeFormatterUsageFormatter_StepContainer_(CucumberRuntimeFormatterUsageFormatter *self, CucumberRuntimeFormatterUsageFormatter_StepContainer *stepContainer) {
  id<JavaUtilMap> aggregatedResults = create_JavaUtilHashMap_init();
  for (id<JavaUtilMap_Entry> __strong calculatorEntry in nil_chk([((id<JavaUtilMap>) nil_chk(self->statisticStrategies_)) entrySet])) {
    id<CucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy> statisticStrategy = [((id<JavaUtilMap_Entry>) nil_chk(calculatorEntry)) getValue];
    id<JavaUtilList> rawDurations = CucumberRuntimeFormatterUsageFormatter_getRawDurationsWithJavaUtilList_(self, ((CucumberRuntimeFormatterUsageFormatter_StepContainer *) nil_chk(stepContainer))->durations_);
    JavaLangLong *calculationResult = [((id<CucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy>) nil_chk(statisticStrategy)) calculateWithJavaUtilList:rawDurations];
    NSString *strategy = [calculatorEntry getKey];
    [aggregatedResults putWithId:strategy withId:CucumberRuntimeFormatterUsageFormatter_toSecondsWithJavaLangLong_(self, calculationResult)];
  }
  return aggregatedResults;
}

JavaMathBigDecimal *CucumberRuntimeFormatterUsageFormatter_toSecondsWithJavaLangLong_(CucumberRuntimeFormatterUsageFormatter *self, JavaLangLong *nanoSeconds) {
  return [((JavaMathBigDecimal *) nil_chk(JavaMathBigDecimal_valueOfWithLong_([((JavaLangLong *) nil_chk(nanoSeconds)) longLongValue]))) divideWithJavaMathBigDecimal:CucumberRuntimeFormatterUsageFormatter_NANOS_PER_SECOND];
}

id<JavaUtilList> CucumberRuntimeFormatterUsageFormatter_getRawDurationsWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter *self, id<JavaUtilList> stepDurations) {
  id<JavaUtilList> rawDurations = create_JavaUtilArrayList_init();
  for (CucumberRuntimeFormatterUsageFormatter_StepDuration * __strong stepDuration in nil_chk(stepDurations)) {
    [rawDurations addWithId:JavaLangLong_valueOfWithLong_([((JavaMathBigDecimal *) nil_chk(((CucumberRuntimeFormatterUsageFormatter_StepDuration *) nil_chk(stepDuration))->duration_)) longLongValue])];
  }
  return rawDurations;
}

GherkinDepsComGoogleGsonGson *CucumberRuntimeFormatterUsageFormatter_gson(CucumberRuntimeFormatterUsageFormatter *self) {
  return [((GherkinDepsComGoogleGsonGsonBuilder *) nil_chk([create_GherkinDepsComGoogleGsonGsonBuilder_init() setPrettyPrinting])) create];
}

void CucumberRuntimeFormatterUsageFormatter_addUsageEntryWithCucumberApiResult_withNSString_withNSString_withNSString_(CucumberRuntimeFormatterUsageFormatter *self, CucumberApiResult *result, NSString *stepDefinition, NSString *stepNameWithArgs, NSString *stepLocation) {
  id<JavaUtilList> stepContainers = [((id<JavaUtilMap>) nil_chk(self->usageMap_)) getWithId:stepDefinition];
  if (stepContainers == nil) {
    stepContainers = create_JavaUtilArrayList_init();
    [self->usageMap_ putWithId:stepDefinition withId:stepContainers];
  }
  CucumberRuntimeFormatterUsageFormatter_StepContainer *stepContainer = CucumberRuntimeFormatterUsageFormatter_findOrCreateStepContainerWithNSString_withJavaUtilList_(self, stepNameWithArgs, stepContainers);
  JavaLangLong *duration = [((CucumberApiResult *) nil_chk(result)) getDuration];
  CucumberRuntimeFormatterUsageFormatter_StepDuration *stepDuration = CucumberRuntimeFormatterUsageFormatter_createStepDurationWithJavaLangLong_withNSString_(self, duration, stepLocation);
  [((id<JavaUtilList>) nil_chk(((CucumberRuntimeFormatterUsageFormatter_StepContainer *) nil_chk(stepContainer))->durations_)) addWithId:stepDuration];
}

CucumberRuntimeFormatterUsageFormatter_StepDuration *CucumberRuntimeFormatterUsageFormatter_createStepDurationWithJavaLangLong_withNSString_(CucumberRuntimeFormatterUsageFormatter *self, JavaLangLong *duration, NSString *location) {
  CucumberRuntimeFormatterUsageFormatter_StepDuration *stepDuration = create_CucumberRuntimeFormatterUsageFormatter_StepDuration_init();
  if (duration == nil) {
    JreStrongAssign(&stepDuration->duration_, JreLoadStatic(JavaMathBigDecimal, ZERO));
  }
  else {
    JreStrongAssign(&stepDuration->duration_, JavaMathBigDecimal_valueOfWithLong_([duration longLongValue]));
  }
  JreStrongAssign(&stepDuration->location_, location);
  return stepDuration;
}

CucumberRuntimeFormatterUsageFormatter_StepContainer *CucumberRuntimeFormatterUsageFormatter_findOrCreateStepContainerWithNSString_withJavaUtilList_(CucumberRuntimeFormatterUsageFormatter *self, NSString *stepNameWithArgs, id<JavaUtilList> stepContainers) {
  for (CucumberRuntimeFormatterUsageFormatter_StepContainer * __strong container in nil_chk(stepContainers)) {
    if ([((NSString *) nil_chk(stepNameWithArgs)) isEqual:((CucumberRuntimeFormatterUsageFormatter_StepContainer *) nil_chk(container))->name_]) {
      return container;
    }
  }
  CucumberRuntimeFormatterUsageFormatter_StepContainer *stepContainer = create_CucumberRuntimeFormatterUsageFormatter_StepContainer_init();
  JreStrongAssign(&stepContainer->name_, stepNameWithArgs);
  [stepContainers addWithId:stepContainer];
  return stepContainer;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberRuntimeFormatterUsageFormatter)

@implementation CucumberRuntimeFormatterUsageFormatter_1

- (instancetype)initWithCucumberRuntimeFormatterUsageFormatter:(CucumberRuntimeFormatterUsageFormatter *)outer$ {
  CucumberRuntimeFormatterUsageFormatter_1_initWithCucumberRuntimeFormatterUsageFormatter_(self, outer$);
  return self;
}

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestStepFinished *)event {
  [this$0_ handleTestStepFinishedWithCucumberApiEventTestStepFinished:event];
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithCucumberRuntimeFormatterUsageFormatter:);
  methods[1].selector = @selector(receiveWithCucumberApiEventEvent:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LCucumberRuntimeFormatterUsageFormatter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "receive", "LCucumberApiEventTestStepFinished;", "LCucumberRuntimeFormatterUsageFormatter;", "Ljava/lang/Object;Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestStepFinished;>;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterUsageFormatter_1 = { "", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8018, 2, 1, 2, -1, -1, 3, -1 };
  return &_CucumberRuntimeFormatterUsageFormatter_1;
}

@end

void CucumberRuntimeFormatterUsageFormatter_1_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter_1 *self, CucumberRuntimeFormatterUsageFormatter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
}

CucumberRuntimeFormatterUsageFormatter_1 *new_CucumberRuntimeFormatterUsageFormatter_1_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter *outer$) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterUsageFormatter_1, initWithCucumberRuntimeFormatterUsageFormatter_, outer$)
}

CucumberRuntimeFormatterUsageFormatter_1 *create_CucumberRuntimeFormatterUsageFormatter_1_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter *outer$) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterUsageFormatter_1, initWithCucumberRuntimeFormatterUsageFormatter_, outer$)
}

@implementation CucumberRuntimeFormatterUsageFormatter_2

- (instancetype)initWithCucumberRuntimeFormatterUsageFormatter:(CucumberRuntimeFormatterUsageFormatter *)outer$ {
  CucumberRuntimeFormatterUsageFormatter_2_initWithCucumberRuntimeFormatterUsageFormatter_(self, outer$);
  return self;
}

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestRunFinished *)event {
  [this$0_ finishReport];
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithCucumberRuntimeFormatterUsageFormatter:);
  methods[1].selector = @selector(receiveWithCucumberApiEventEvent:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LCucumberRuntimeFormatterUsageFormatter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "receive", "LCucumberApiEventTestRunFinished;", "LCucumberRuntimeFormatterUsageFormatter;", "Ljava/lang/Object;Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestRunFinished;>;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterUsageFormatter_2 = { "", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8018, 2, 1, 2, -1, -1, 3, -1 };
  return &_CucumberRuntimeFormatterUsageFormatter_2;
}

@end

void CucumberRuntimeFormatterUsageFormatter_2_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter_2 *self, CucumberRuntimeFormatterUsageFormatter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
}

CucumberRuntimeFormatterUsageFormatter_2 *new_CucumberRuntimeFormatterUsageFormatter_2_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter *outer$) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterUsageFormatter_2, initWithCucumberRuntimeFormatterUsageFormatter_, outer$)
}

CucumberRuntimeFormatterUsageFormatter_2 *create_CucumberRuntimeFormatterUsageFormatter_2_initWithCucumberRuntimeFormatterUsageFormatter_(CucumberRuntimeFormatterUsageFormatter *outer$) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterUsageFormatter_2, initWithCucumberRuntimeFormatterUsageFormatter_, outer$)
}

@implementation CucumberRuntimeFormatterUsageFormatter_StepDefContainer

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  CucumberRuntimeFormatterUsageFormatter_StepDefContainer_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)dealloc {
  RELEASE_(source_);
  RELEASE_(steps_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "source_", "LNSString;", .constantValue.asLong = 0, 0x1, -1, -1, -1, -1 },
    { "steps_", "LJavaUtilList;", .constantValue.asLong = 0, 0x1, -1, -1, 0, -1 },
  };
  static const void *ptrTable[] = { "Ljava/util/List<Lcucumber/runtime/formatter/UsageFormatter$StepContainer;>;", "LCucumberRuntimeFormatterUsageFormatter;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterUsageFormatter_StepDefContainer = { "StepDefContainer", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8, 1, 2, 1, -1, -1, -1, -1 };
  return &_CucumberRuntimeFormatterUsageFormatter_StepDefContainer;
}

@end

void CucumberRuntimeFormatterUsageFormatter_StepDefContainer_init(CucumberRuntimeFormatterUsageFormatter_StepDefContainer *self) {
  NSObject_init(self);
}

CucumberRuntimeFormatterUsageFormatter_StepDefContainer *new_CucumberRuntimeFormatterUsageFormatter_StepDefContainer_init() {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterUsageFormatter_StepDefContainer, init)
}

CucumberRuntimeFormatterUsageFormatter_StepDefContainer *create_CucumberRuntimeFormatterUsageFormatter_StepDefContainer_init() {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterUsageFormatter_StepDefContainer, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberRuntimeFormatterUsageFormatter_StepDefContainer)

@implementation CucumberRuntimeFormatterUsageFormatter_StepContainer

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  CucumberRuntimeFormatterUsageFormatter_StepContainer_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)dealloc {
  RELEASE_(name_);
  RELEASE_(aggregatedDurations_);
  RELEASE_(durations_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "name_", "LNSString;", .constantValue.asLong = 0, 0x1, -1, -1, -1, -1 },
    { "aggregatedDurations_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x1, -1, -1, 0, -1 },
    { "durations_", "LJavaUtilList;", .constantValue.asLong = 0, 0x1, -1, -1, 1, -1 },
  };
  static const void *ptrTable[] = { "Ljava/util/Map<Ljava/lang/String;Ljava/math/BigDecimal;>;", "Ljava/util/List<Lcucumber/runtime/formatter/UsageFormatter$StepDuration;>;", "LCucumberRuntimeFormatterUsageFormatter;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterUsageFormatter_StepContainer = { "StepContainer", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8, 1, 3, 2, -1, -1, -1, -1 };
  return &_CucumberRuntimeFormatterUsageFormatter_StepContainer;
}

@end

void CucumberRuntimeFormatterUsageFormatter_StepContainer_init(CucumberRuntimeFormatterUsageFormatter_StepContainer *self) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->aggregatedDurations_, new_JavaUtilHashMap_init());
  JreStrongAssignAndConsume(&self->durations_, new_JavaUtilArrayList_init());
}

CucumberRuntimeFormatterUsageFormatter_StepContainer *new_CucumberRuntimeFormatterUsageFormatter_StepContainer_init() {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterUsageFormatter_StepContainer, init)
}

CucumberRuntimeFormatterUsageFormatter_StepContainer *create_CucumberRuntimeFormatterUsageFormatter_StepContainer_init() {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterUsageFormatter_StepContainer, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberRuntimeFormatterUsageFormatter_StepContainer)

@implementation CucumberRuntimeFormatterUsageFormatter_StepDuration

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  CucumberRuntimeFormatterUsageFormatter_StepDuration_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (void)dealloc {
  RELEASE_(duration_);
  RELEASE_(location_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "duration_", "LJavaMathBigDecimal;", .constantValue.asLong = 0, 0x1, -1, -1, -1, -1 },
    { "location_", "LNSString;", .constantValue.asLong = 0, 0x1, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LCucumberRuntimeFormatterUsageFormatter;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterUsageFormatter_StepDuration = { "StepDuration", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8, 1, 2, 0, -1, -1, -1, -1 };
  return &_CucumberRuntimeFormatterUsageFormatter_StepDuration;
}

@end

void CucumberRuntimeFormatterUsageFormatter_StepDuration_init(CucumberRuntimeFormatterUsageFormatter_StepDuration *self) {
  NSObject_init(self);
}

CucumberRuntimeFormatterUsageFormatter_StepDuration *new_CucumberRuntimeFormatterUsageFormatter_StepDuration_init() {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterUsageFormatter_StepDuration, init)
}

CucumberRuntimeFormatterUsageFormatter_StepDuration *create_CucumberRuntimeFormatterUsageFormatter_StepDuration_init() {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterUsageFormatter_StepDuration, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberRuntimeFormatterUsageFormatter_StepDuration)

@implementation CucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LJavaLangLong;", 0x401, 0, 1, -1, 2, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(calculateWithJavaUtilList:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "calculate", "LJavaUtilList;", "(Ljava/util/List<Ljava/lang/Long;>;)Ljava/lang/Long;", "LCucumberRuntimeFormatterUsageFormatter;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy = { "UsageStatisticStrategy", "cucumber.runtime.formatter", ptrTable, methods, NULL, 7, 0x608, 1, 0, 3, -1, -1, -1, -1 };
  return &_CucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy;
}

@end

J2OBJC_INTERFACE_TYPE_LITERAL_SOURCE(CucumberRuntimeFormatterUsageFormatter_UsageStatisticStrategy)

@implementation CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (JavaLangLong *)calculateWithJavaUtilList:(id<JavaUtilList>)durationEntries {
  if (CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy_verifyNoNullsWithJavaUtilList_(self, durationEntries)) {
    return JavaLangLong_valueOfWithLong_(0LL);
  }
  jlong sum = 0;
  for (JavaLangLong * __strong duration in nil_chk(durationEntries)) {
    sum += [((JavaLangLong *) nil_chk(duration)) longLongValue];
  }
  return JavaLangLong_valueOfWithLong_(sum / [durationEntries size]);
}

- (jboolean)verifyNoNullsWithJavaUtilList:(id<JavaUtilList>)durationEntries {
  return CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy_verifyNoNullsWithJavaUtilList_(self, durationEntries);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaLangLong;", 0x1, 0, 1, -1, 2, -1, -1 },
    { NULL, "Z", 0x2, 3, 1, -1, 4, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(calculateWithJavaUtilList:);
  methods[2].selector = @selector(verifyNoNullsWithJavaUtilList:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "calculate", "LJavaUtilList;", "(Ljava/util/List<Ljava/lang/Long;>;)Ljava/lang/Long;", "verifyNoNulls", "(Ljava/util/List<Ljava/lang/Long;>;)Z", "LCucumberRuntimeFormatterUsageFormatter;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy = { "AverageUsageStatisticStrategy", "cucumber.runtime.formatter", ptrTable, methods, NULL, 7, 0x8, 3, 0, 5, -1, -1, -1, -1 };
  return &_CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy;
}

@end

void CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy_init(CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy *self) {
  NSObject_init(self);
}

CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy *new_CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy_init() {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy, init)
}

CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy *create_CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy_init() {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy, init)
}

jboolean CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy_verifyNoNullsWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy *self, id<JavaUtilList> durationEntries) {
  return durationEntries == nil || [durationEntries isEmpty] || [durationEntries containsWithId:nil];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberRuntimeFormatterUsageFormatter_AverageUsageStatisticStrategy)

@implementation CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

- (JavaLangLong *)calculateWithJavaUtilList:(id<JavaUtilList>)durationEntries {
  if (CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy_verifyNoNullsWithJavaUtilList_(self, durationEntries)) {
    return JavaLangLong_valueOfWithLong_(0LL);
  }
  JavaUtilCollections_sortWithJavaUtilList_(durationEntries);
  jint middle = [((id<JavaUtilList>) nil_chk(durationEntries)) size] / 2;
  if ([durationEntries size] % 2 == 1) {
    return [durationEntries getWithInt:middle];
  }
  else {
    return JavaLangLong_valueOfWithLong_(([((JavaLangLong *) nil_chk([durationEntries getWithInt:middle - 1])) longLongValue] + [((JavaLangLong *) nil_chk([durationEntries getWithInt:middle])) longLongValue]) / 2);
  }
}

- (jboolean)verifyNoNullsWithJavaUtilList:(id<JavaUtilList>)durationEntries {
  return CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy_verifyNoNullsWithJavaUtilList_(self, durationEntries);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "LJavaLangLong;", 0x1, 0, 1, -1, 2, -1, -1 },
    { NULL, "Z", 0x2, 3, 1, -1, 4, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(calculateWithJavaUtilList:);
  methods[2].selector = @selector(verifyNoNullsWithJavaUtilList:);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "calculate", "LJavaUtilList;", "(Ljava/util/List<Ljava/lang/Long;>;)Ljava/lang/Long;", "verifyNoNulls", "(Ljava/util/List<Ljava/lang/Long;>;)Z", "LCucumberRuntimeFormatterUsageFormatter;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy = { "MedianUsageStatisticStrategy", "cucumber.runtime.formatter", ptrTable, methods, NULL, 7, 0x8, 3, 0, 5, -1, -1, -1, -1 };
  return &_CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy;
}

@end

void CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy_init(CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy *self) {
  NSObject_init(self);
}

CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy *new_CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy_init() {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy, init)
}

CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy *create_CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy_init() {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy, init)
}

jboolean CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy_verifyNoNullsWithJavaUtilList_(CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy *self, id<JavaUtilList> durationEntries) {
  return durationEntries == nil || [durationEntries isEmpty] || [durationEntries containsWithId:nil];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberRuntimeFormatterUsageFormatter_MedianUsageStatisticStrategy)
