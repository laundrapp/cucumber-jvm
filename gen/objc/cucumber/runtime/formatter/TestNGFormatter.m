//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/marcussmith/HambroPerks/laundrapp_org/cucumber-jvm/core/src/main/java/cucumber/runtime/formatter/TestNGFormatter.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "cucumber/api/Result.h"
#include "cucumber/api/TestCase.h"
#include "cucumber/api/TestStep.h"
#include "cucumber/api/event/EventHandler.h"
#include "cucumber/api/event/EventPublisher.h"
#include "cucumber/api/event/TestCaseFinished.h"
#include "cucumber/api/event/TestCaseStarted.h"
#include "cucumber/api/event/TestRunFinished.h"
#include "cucumber/api/event/TestSourceRead.h"
#include "cucumber/api/event/TestStepFinished.h"
#include "cucumber/runtime/CucumberException.h"
#include "cucumber/runtime/formatter/TestNGFormatter.h"
#include "cucumber/runtime/formatter/TestSourcesModel.h"
#include "cucumber/runtime/io/URLOutputStream.h"
#include "cucumber/runtime/io/UTF8OutputStreamWriter.h"
#include "gherkin/ast/Feature.h"
#include "java/io/Closeable.h"
#include "java/io/IOException.h"
#include "java/io/PrintWriter.h"
#include "java/io/StringWriter.h"
#include "java/io/Writer.h"
#include "java/lang/Long.h"
#include "java/lang/NullPointerException.h"
#include "java/lang/NumberFormatException.h"
#include "java/lang/StringBuilder.h"
#include "java/lang/Throwable.h"
#include "java/net/URL.h"
#include "java/text/SimpleDateFormat.h"
#include "java/util/ArrayList.h"
#include "java/util/Date.h"
#include "java/util/List.h"
#include "javax/xml/parsers/DocumentBuilder.h"
#include "javax/xml/parsers/DocumentBuilderFactory.h"
#include "javax/xml/parsers/ParserConfigurationException.h"
#include "javax/xml/transform/OutputKeys.h"
#include "javax/xml/transform/Transformer.h"
#include "javax/xml/transform/TransformerException.h"
#include "javax/xml/transform/TransformerFactory.h"
#include "javax/xml/transform/dom/DOMSource.h"
#include "javax/xml/transform/stream/StreamResult.h"
#include "org/w3c/dom/CDATASection.h"
#include "org/w3c/dom/Document.h"
#include "org/w3c/dom/Element.h"
#include "org/w3c/dom/NamedNodeMap.h"
#include "org/w3c/dom/Node.h"
#include "org/w3c/dom/NodeList.h"

@class CucumberRuntimeFormatterTestNGFormatter_TestMethod;

@interface CucumberRuntimeFormatterTestNGFormatter () {
 @public
  JavaIoWriter *writer_;
  id<OrgW3cDomDocument> document_;
  id<OrgW3cDomElement> results_;
  id<OrgW3cDomElement> suite_;
  id<OrgW3cDomElement> test_;
  id<OrgW3cDomElement> clazz_;
  id<OrgW3cDomElement> root_;
  CucumberRuntimeFormatterTestNGFormatter_TestMethod *testMethod_;
  id<CucumberApiEventEventHandler> testSourceReadHandler_;
  id<CucumberApiEventEventHandler> caseStartedHandler_;
  id<CucumberApiEventEventHandler> stepFinishedHandler_;
  id<CucumberApiEventEventHandler> caseFinishedHandler_;
  id<CucumberApiEventEventHandler> runFinishedHandler_;
}

- (void)handleTestSourceReadWithCucumberApiEventTestSourceRead:(CucumberApiEventTestSourceRead *)event;

- (void)handleTestCaseStartedWithCucumberApiEventTestCaseStarted:(CucumberApiEventTestCaseStarted *)event;

- (void)handleTestStepFinishedWithCucumberApiEventTestStepFinished:(CucumberApiEventTestStepFinished *)event;

- (void)handleTestCaseFinished;

- (void)finishReport;

- (jint)getElementsCountByAttributeWithOrgW3cDomNode:(id<OrgW3cDomNode>)node
                                        withNSString:(NSString *)attributeName
                                        withNSString:(NSString *)attributeValue;

- (NSString *)getTotalDurationWithOrgW3cDomNodeList:(id<OrgW3cDomNodeList>)testCaseNodes;

+ (void)closeQuietlyWithJavaIoCloseable:(id<JavaIoCloseable>)outArg;

@end

J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, writer_, JavaIoWriter *)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, document_, id<OrgW3cDomDocument>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, results_, id<OrgW3cDomElement>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, suite_, id<OrgW3cDomElement>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, test_, id<OrgW3cDomElement>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, clazz_, id<OrgW3cDomElement>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, root_, id<OrgW3cDomElement>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, testMethod_, CucumberRuntimeFormatterTestNGFormatter_TestMethod *)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, testSourceReadHandler_, id<CucumberApiEventEventHandler>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, caseStartedHandler_, id<CucumberApiEventEventHandler>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, stepFinishedHandler_, id<CucumberApiEventEventHandler>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, caseFinishedHandler_, id<CucumberApiEventEventHandler>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter, runFinishedHandler_, id<CucumberApiEventEventHandler>)

inline JavaTextSimpleDateFormat *CucumberRuntimeFormatterTestNGFormatter_get_DATE_FORMAT(void);
static JavaTextSimpleDateFormat *CucumberRuntimeFormatterTestNGFormatter_DATE_FORMAT;
J2OBJC_STATIC_FIELD_OBJ_FINAL(CucumberRuntimeFormatterTestNGFormatter, DATE_FORMAT, JavaTextSimpleDateFormat *)

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_handleTestSourceReadWithCucumberApiEventTestSourceRead_(CucumberRuntimeFormatterTestNGFormatter *self, CucumberApiEventTestSourceRead *event);

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_handleTestCaseStartedWithCucumberApiEventTestCaseStarted_(CucumberRuntimeFormatterTestNGFormatter *self, CucumberApiEventTestCaseStarted *event);

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_handleTestStepFinishedWithCucumberApiEventTestStepFinished_(CucumberRuntimeFormatterTestNGFormatter *self, CucumberApiEventTestStepFinished *event);

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_handleTestCaseFinished(CucumberRuntimeFormatterTestNGFormatter *self);

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_finishReport(CucumberRuntimeFormatterTestNGFormatter *self);

__attribute__((unused)) static jint CucumberRuntimeFormatterTestNGFormatter_getElementsCountByAttributeWithOrgW3cDomNode_withNSString_withNSString_(CucumberRuntimeFormatterTestNGFormatter *self, id<OrgW3cDomNode> node, NSString *attributeName, NSString *attributeValue);

__attribute__((unused)) static NSString *CucumberRuntimeFormatterTestNGFormatter_getTotalDurationWithOrgW3cDomNodeList_(CucumberRuntimeFormatterTestNGFormatter *self, id<OrgW3cDomNodeList> testCaseNodes);

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_closeQuietlyWithJavaIoCloseable_(id<JavaIoCloseable> outArg);

@interface CucumberRuntimeFormatterTestNGFormatter_1 : NSObject < CucumberApiEventEventHandler > {
 @public
  CucumberRuntimeFormatterTestNGFormatter *this$0_;
}

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$;

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestSourceRead *)event;

@end

J2OBJC_EMPTY_STATIC_INIT(CucumberRuntimeFormatterTestNGFormatter_1)

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_1_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_1 *self, CucumberRuntimeFormatterTestNGFormatter *outer$);

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_1 *new_CucumberRuntimeFormatterTestNGFormatter_1_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_1 *create_CucumberRuntimeFormatterTestNGFormatter_1_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$);

@interface CucumberRuntimeFormatterTestNGFormatter_2 : NSObject < CucumberApiEventEventHandler > {
 @public
  CucumberRuntimeFormatterTestNGFormatter *this$0_;
}

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$;

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestCaseStarted *)event;

@end

J2OBJC_EMPTY_STATIC_INIT(CucumberRuntimeFormatterTestNGFormatter_2)

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_2_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_2 *self, CucumberRuntimeFormatterTestNGFormatter *outer$);

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_2 *new_CucumberRuntimeFormatterTestNGFormatter_2_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_2 *create_CucumberRuntimeFormatterTestNGFormatter_2_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$);

@interface CucumberRuntimeFormatterTestNGFormatter_3 : NSObject < CucumberApiEventEventHandler > {
 @public
  CucumberRuntimeFormatterTestNGFormatter *this$0_;
}

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$;

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestStepFinished *)event;

@end

J2OBJC_EMPTY_STATIC_INIT(CucumberRuntimeFormatterTestNGFormatter_3)

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_3_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_3 *self, CucumberRuntimeFormatterTestNGFormatter *outer$);

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_3 *new_CucumberRuntimeFormatterTestNGFormatter_3_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_3 *create_CucumberRuntimeFormatterTestNGFormatter_3_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$);

@interface CucumberRuntimeFormatterTestNGFormatter_4 : NSObject < CucumberApiEventEventHandler > {
 @public
  CucumberRuntimeFormatterTestNGFormatter *this$0_;
}

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$;

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestCaseFinished *)event;

@end

J2OBJC_EMPTY_STATIC_INIT(CucumberRuntimeFormatterTestNGFormatter_4)

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_4_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_4 *self, CucumberRuntimeFormatterTestNGFormatter *outer$);

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_4 *new_CucumberRuntimeFormatterTestNGFormatter_4_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_4 *create_CucumberRuntimeFormatterTestNGFormatter_4_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$);

@interface CucumberRuntimeFormatterTestNGFormatter_5 : NSObject < CucumberApiEventEventHandler > {
 @public
  CucumberRuntimeFormatterTestNGFormatter *this$0_;
}

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$;

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestRunFinished *)event;

@end

J2OBJC_EMPTY_STATIC_INIT(CucumberRuntimeFormatterTestNGFormatter_5)

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_5_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_5 *self, CucumberRuntimeFormatterTestNGFormatter *outer$);

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_5 *new_CucumberRuntimeFormatterTestNGFormatter_5_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) NS_RETURNS_RETAINED;

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_5 *create_CucumberRuntimeFormatterTestNGFormatter_5_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$);

@interface CucumberRuntimeFormatterTestNGFormatter_TestMethod : NSObject {
 @public
  id<JavaUtilList> steps_;
  id<JavaUtilList> results_;
  id<JavaUtilList> hooks_;
  CucumberApiTestCase *scenario_;
}

- (instancetype)initWithCucumberApiTestCase:(CucumberApiTestCase *)scenario;

- (void)startWithOrgW3cDomElement:(id<OrgW3cDomElement>)element;

- (NSString *)calculateElementNameWithCucumberApiTestCase:(CucumberApiTestCase *)testCase;

- (void)finishWithOrgW3cDomDocument:(id<OrgW3cDomDocument>)doc
               withOrgW3cDomElement:(id<OrgW3cDomElement>)element;

- (NSString *)calculateTotalDurationString;

- (void)addStepAndResultListingWithJavaLangStringBuilder:(JavaLangStringBuilder *)sb;

- (id<OrgW3cDomElement>)createExceptionWithOrgW3cDomDocument:(id<OrgW3cDomDocument>)doc
                                                withNSString:(NSString *)clazz
                                                withNSString:(NSString *)message
                                                withNSString:(NSString *)stacktrace;

@end

J2OBJC_STATIC_INIT(CucumberRuntimeFormatterTestNGFormatter_TestMethod)

J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter_TestMethod, steps_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter_TestMethod, results_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter_TestMethod, hooks_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(CucumberRuntimeFormatterTestNGFormatter_TestMethod, scenario_, CucumberApiTestCase *)

inline NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_get_currentFeatureFile(void);
inline NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_set_currentFeatureFile(NSString *value);
static NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_currentFeatureFile;
J2OBJC_STATIC_FIELD_OBJ(CucumberRuntimeFormatterTestNGFormatter_TestMethod, currentFeatureFile, NSString *)

inline jboolean CucumberRuntimeFormatterTestNGFormatter_TestMethod_get_treatSkippedAsFailure(void);
inline jboolean CucumberRuntimeFormatterTestNGFormatter_TestMethod_set_treatSkippedAsFailure(jboolean value);
inline jboolean *CucumberRuntimeFormatterTestNGFormatter_TestMethod_getRef_treatSkippedAsFailure(void);
static jboolean CucumberRuntimeFormatterTestNGFormatter_TestMethod_treatSkippedAsFailure = false;
J2OBJC_STATIC_FIELD_PRIMITIVE(CucumberRuntimeFormatterTestNGFormatter_TestMethod, treatSkippedAsFailure, jboolean)

inline NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_get_previousTestCaseName(void);
inline NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_set_previousTestCaseName(NSString *value);
static NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_previousTestCaseName;
J2OBJC_STATIC_FIELD_OBJ(CucumberRuntimeFormatterTestNGFormatter_TestMethod, previousTestCaseName, NSString *)

inline jint CucumberRuntimeFormatterTestNGFormatter_TestMethod_get_exampleNumber(void);
inline jint CucumberRuntimeFormatterTestNGFormatter_TestMethod_set_exampleNumber(jint value);
inline jint *CucumberRuntimeFormatterTestNGFormatter_TestMethod_getRef_exampleNumber(void);
static jint CucumberRuntimeFormatterTestNGFormatter_TestMethod_exampleNumber;
J2OBJC_STATIC_FIELD_PRIMITIVE(CucumberRuntimeFormatterTestNGFormatter_TestMethod, exampleNumber, jint)

inline CucumberRuntimeFormatterTestSourcesModel *CucumberRuntimeFormatterTestNGFormatter_TestMethod_get_testSources(void);
static CucumberRuntimeFormatterTestSourcesModel *CucumberRuntimeFormatterTestNGFormatter_TestMethod_testSources;
J2OBJC_STATIC_FIELD_OBJ_FINAL(CucumberRuntimeFormatterTestNGFormatter_TestMethod, testSources, CucumberRuntimeFormatterTestSourcesModel *)

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_TestMethod_initWithCucumberApiTestCase_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, CucumberApiTestCase *scenario);

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_TestMethod *new_CucumberRuntimeFormatterTestNGFormatter_TestMethod_initWithCucumberApiTestCase_(CucumberApiTestCase *scenario) NS_RETURNS_RETAINED;

__attribute__((unused)) static CucumberRuntimeFormatterTestNGFormatter_TestMethod *create_CucumberRuntimeFormatterTestNGFormatter_TestMethod_initWithCucumberApiTestCase_(CucumberApiTestCase *scenario);

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_TestMethod_startWithOrgW3cDomElement_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, id<OrgW3cDomElement> element);

__attribute__((unused)) static NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_calculateElementNameWithCucumberApiTestCase_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, CucumberApiTestCase *testCase);

__attribute__((unused)) static NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_calculateTotalDurationString(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self);

__attribute__((unused)) static void CucumberRuntimeFormatterTestNGFormatter_TestMethod_addStepAndResultListingWithJavaLangStringBuilder_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, JavaLangStringBuilder *sb);

__attribute__((unused)) static id<OrgW3cDomElement> CucumberRuntimeFormatterTestNGFormatter_TestMethod_createExceptionWithOrgW3cDomDocument_withNSString_withNSString_withNSString_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, id<OrgW3cDomDocument> doc, NSString *clazz, NSString *message, NSString *stacktrace);

J2OBJC_TYPE_LITERAL_HEADER(CucumberRuntimeFormatterTestNGFormatter_TestMethod)

J2OBJC_INITIALIZED_DEFN(CucumberRuntimeFormatterTestNGFormatter)

@implementation CucumberRuntimeFormatterTestNGFormatter

- (instancetype)initWithJavaNetURL:(JavaNetURL *)url {
  CucumberRuntimeFormatterTestNGFormatter_initWithJavaNetURL_(self, url);
  return self;
}

- (void)setEventPublisherWithCucumberApiEventEventPublisher:(id<CucumberApiEventEventPublisher>)publisher {
  [((id<CucumberApiEventEventPublisher>) nil_chk(publisher)) registerHandlerForWithIOSClass:CucumberApiEventTestSourceRead_class_() withCucumberApiEventEventHandler:testSourceReadHandler_];
  [publisher registerHandlerForWithIOSClass:CucumberApiEventTestCaseStarted_class_() withCucumberApiEventEventHandler:caseStartedHandler_];
  [publisher registerHandlerForWithIOSClass:CucumberApiEventTestCaseFinished_class_() withCucumberApiEventEventHandler:caseFinishedHandler_];
  [publisher registerHandlerForWithIOSClass:CucumberApiEventTestStepFinished_class_() withCucumberApiEventEventHandler:stepFinishedHandler_];
  [publisher registerHandlerForWithIOSClass:CucumberApiEventTestRunFinished_class_() withCucumberApiEventEventHandler:runFinishedHandler_];
}

- (void)setStrictWithBoolean:(jboolean)strict {
  *JreLoadStaticRef(CucumberRuntimeFormatterTestNGFormatter_TestMethod, treatSkippedAsFailure) = strict;
}

- (void)handleTestSourceReadWithCucumberApiEventTestSourceRead:(CucumberApiEventTestSourceRead *)event {
  CucumberRuntimeFormatterTestNGFormatter_handleTestSourceReadWithCucumberApiEventTestSourceRead_(self, event);
}

- (void)handleTestCaseStartedWithCucumberApiEventTestCaseStarted:(CucumberApiEventTestCaseStarted *)event {
  CucumberRuntimeFormatterTestNGFormatter_handleTestCaseStartedWithCucumberApiEventTestCaseStarted_(self, event);
}

- (void)handleTestStepFinishedWithCucumberApiEventTestStepFinished:(CucumberApiEventTestStepFinished *)event {
  CucumberRuntimeFormatterTestNGFormatter_handleTestStepFinishedWithCucumberApiEventTestStepFinished_(self, event);
}

- (void)handleTestCaseFinished {
  CucumberRuntimeFormatterTestNGFormatter_handleTestCaseFinished(self);
}

- (void)finishReport {
  CucumberRuntimeFormatterTestNGFormatter_finishReport(self);
}

- (jint)getElementsCountByAttributeWithOrgW3cDomNode:(id<OrgW3cDomNode>)node
                                        withNSString:(NSString *)attributeName
                                        withNSString:(NSString *)attributeValue {
  return CucumberRuntimeFormatterTestNGFormatter_getElementsCountByAttributeWithOrgW3cDomNode_withNSString_withNSString_(self, node, attributeName, attributeValue);
}

- (NSString *)getTotalDurationWithOrgW3cDomNodeList:(id<OrgW3cDomNodeList>)testCaseNodes {
  return CucumberRuntimeFormatterTestNGFormatter_getTotalDurationWithOrgW3cDomNodeList_(self, testCaseNodes);
}

+ (void)closeQuietlyWithJavaIoCloseable:(id<JavaIoCloseable>)outArg {
  CucumberRuntimeFormatterTestNGFormatter_closeQuietlyWithJavaIoCloseable_(outArg);
}

- (void)dealloc {
  RELEASE_(writer_);
  RELEASE_(document_);
  RELEASE_(results_);
  RELEASE_(suite_);
  RELEASE_(test_);
  RELEASE_(clazz_);
  RELEASE_(root_);
  RELEASE_(testMethod_);
  RELEASE_(testSourceReadHandler_);
  RELEASE_(caseStartedHandler_);
  RELEASE_(stepFinishedHandler_);
  RELEASE_(caseFinishedHandler_);
  RELEASE_(runFinishedHandler_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x1, -1, 0, 1, -1, -1, -1 },
    { NULL, "V", 0x1, 2, 3, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 4, 5, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 6, 7, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 8, 9, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 10, 11, -1, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "I", 0x2, 12, 13, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x2, 14, 15, -1, -1, -1, -1 },
    { NULL, "V", 0xa, 16, 17, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithJavaNetURL:);
  methods[1].selector = @selector(setEventPublisherWithCucumberApiEventEventPublisher:);
  methods[2].selector = @selector(setStrictWithBoolean:);
  methods[3].selector = @selector(handleTestSourceReadWithCucumberApiEventTestSourceRead:);
  methods[4].selector = @selector(handleTestCaseStartedWithCucumberApiEventTestCaseStarted:);
  methods[5].selector = @selector(handleTestStepFinishedWithCucumberApiEventTestStepFinished:);
  methods[6].selector = @selector(handleTestCaseFinished);
  methods[7].selector = @selector(finishReport);
  methods[8].selector = @selector(getElementsCountByAttributeWithOrgW3cDomNode:withNSString:withNSString:);
  methods[9].selector = @selector(getTotalDurationWithOrgW3cDomNodeList:);
  methods[10].selector = @selector(closeQuietlyWithJavaIoCloseable:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "DATE_FORMAT", "LJavaTextSimpleDateFormat;", .constantValue.asLong = 0, 0x1a, -1, 18, -1, -1 },
    { "writer_", "LJavaIoWriter;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "document_", "LOrgW3cDomDocument;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "results_", "LOrgW3cDomElement;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "suite_", "LOrgW3cDomElement;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "test_", "LOrgW3cDomElement;", .constantValue.asLong = 0, 0x12, -1, -1, -1, -1 },
    { "clazz_", "LOrgW3cDomElement;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "root_", "LOrgW3cDomElement;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "testMethod_", "LCucumberRuntimeFormatterTestNGFormatter_TestMethod;", .constantValue.asLong = 0, 0x2, -1, -1, -1, -1 },
    { "testSourceReadHandler_", "LCucumberApiEventEventHandler;", .constantValue.asLong = 0, 0x2, -1, -1, 19, -1 },
    { "caseStartedHandler_", "LCucumberApiEventEventHandler;", .constantValue.asLong = 0, 0x2, -1, -1, 20, -1 },
    { "stepFinishedHandler_", "LCucumberApiEventEventHandler;", .constantValue.asLong = 0, 0x2, -1, -1, 21, -1 },
    { "caseFinishedHandler_", "LCucumberApiEventEventHandler;", .constantValue.asLong = 0, 0x2, -1, -1, 22, -1 },
    { "runFinishedHandler_", "LCucumberApiEventEventHandler;", .constantValue.asLong = 0, 0x2, -1, -1, 23, -1 },
  };
  static const void *ptrTable[] = { "LJavaNetURL;", "LJavaIoIOException;", "setEventPublisher", "LCucumberApiEventEventPublisher;", "setStrict", "Z", "handleTestSourceRead", "LCucumberApiEventTestSourceRead;", "handleTestCaseStarted", "LCucumberApiEventTestCaseStarted;", "handleTestStepFinished", "LCucumberApiEventTestStepFinished;", "getElementsCountByAttribute", "LOrgW3cDomNode;LNSString;LNSString;", "getTotalDuration", "LOrgW3cDomNodeList;", "closeQuietly", "LJavaIoCloseable;", &CucumberRuntimeFormatterTestNGFormatter_DATE_FORMAT, "Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestSourceRead;>;", "Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestCaseStarted;>;", "Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestStepFinished;>;", "Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestCaseFinished;>;", "Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestRunFinished;>;", "LCucumberRuntimeFormatterTestNGFormatter_TestMethod;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterTestNGFormatter = { "TestNGFormatter", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x0, 11, 14, -1, 24, -1, -1, -1 };
  return &_CucumberRuntimeFormatterTestNGFormatter;
}

+ (void)initialize {
  if (self == [CucumberRuntimeFormatterTestNGFormatter class]) {
    JreStrongAssignAndConsume(&CucumberRuntimeFormatterTestNGFormatter_DATE_FORMAT, new_JavaTextSimpleDateFormat_initWithNSString_(@"yyyy-MM-dd'T'HH:mm:ss'Z'"));
    J2OBJC_SET_INITIALIZED(CucumberRuntimeFormatterTestNGFormatter)
  }
}

@end

void CucumberRuntimeFormatterTestNGFormatter_initWithJavaNetURL_(CucumberRuntimeFormatterTestNGFormatter *self, JavaNetURL *url) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->testSourceReadHandler_, new_CucumberRuntimeFormatterTestNGFormatter_1_initWithCucumberRuntimeFormatterTestNGFormatter_(self));
  JreStrongAssignAndConsume(&self->caseStartedHandler_, new_CucumberRuntimeFormatterTestNGFormatter_2_initWithCucumberRuntimeFormatterTestNGFormatter_(self));
  JreStrongAssignAndConsume(&self->stepFinishedHandler_, new_CucumberRuntimeFormatterTestNGFormatter_3_initWithCucumberRuntimeFormatterTestNGFormatter_(self));
  JreStrongAssignAndConsume(&self->caseFinishedHandler_, new_CucumberRuntimeFormatterTestNGFormatter_4_initWithCucumberRuntimeFormatterTestNGFormatter_(self));
  JreStrongAssignAndConsume(&self->runFinishedHandler_, new_CucumberRuntimeFormatterTestNGFormatter_5_initWithCucumberRuntimeFormatterTestNGFormatter_(self));
  JreStrongAssignAndConsume(&self->writer_, new_CucumberRuntimeIoUTF8OutputStreamWriter_initWithJavaIoOutputStream_(create_CucumberRuntimeIoURLOutputStream_initWithJavaNetURL_(url)));
  *JreLoadStaticRef(CucumberRuntimeFormatterTestNGFormatter_TestMethod, treatSkippedAsFailure) = false;
  JreStrongAssign(JreLoadStaticRef(CucumberRuntimeFormatterTestNGFormatter_TestMethod, currentFeatureFile), nil);
  @try {
    JreStrongAssign(&self->document_, [((JavaxXmlParsersDocumentBuilder *) nil_chk([((JavaxXmlParsersDocumentBuilderFactory *) nil_chk(JavaxXmlParsersDocumentBuilderFactory_newInstance())) newDocumentBuilder])) newDocument]);
    JreStrongAssign(&self->results_, [((id<OrgW3cDomDocument>) nil_chk(self->document_)) createElementWithNSString:@"testng-results"]);
    JreStrongAssign(&self->suite_, [self->document_ createElementWithNSString:@"suite"]);
    JreStrongAssign(&self->test_, [self->document_ createElementWithNSString:@"test"]);
    [((id<OrgW3cDomElement>) nil_chk(self->suite_)) appendChildWithOrgW3cDomNode:self->test_];
    [((id<OrgW3cDomElement>) nil_chk(self->results_)) appendChildWithOrgW3cDomNode:self->suite_];
    [self->document_ appendChildWithOrgW3cDomNode:self->results_];
  }
  @catch (JavaxXmlParsersParserConfigurationException *e) {
    @throw create_CucumberRuntimeCucumberException_initWithNSString_withJavaLangThrowable_(@"Error initializing DocumentBuilder.", e);
  }
}

CucumberRuntimeFormatterTestNGFormatter *new_CucumberRuntimeFormatterTestNGFormatter_initWithJavaNetURL_(JavaNetURL *url) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterTestNGFormatter, initWithJavaNetURL_, url)
}

CucumberRuntimeFormatterTestNGFormatter *create_CucumberRuntimeFormatterTestNGFormatter_initWithJavaNetURL_(JavaNetURL *url) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterTestNGFormatter, initWithJavaNetURL_, url)
}

void CucumberRuntimeFormatterTestNGFormatter_handleTestSourceReadWithCucumberApiEventTestSourceRead_(CucumberRuntimeFormatterTestNGFormatter *self, CucumberApiEventTestSourceRead *event) {
  [((CucumberRuntimeFormatterTestSourcesModel *) nil_chk(JreLoadStatic(CucumberRuntimeFormatterTestNGFormatter_TestMethod, testSources))) addTestSourceReadEventWithNSString:((CucumberApiEventTestSourceRead *) nil_chk(event))->uri_ withCucumberApiEventTestSourceRead:event];
}

void CucumberRuntimeFormatterTestNGFormatter_handleTestCaseStartedWithCucumberApiEventTestCaseStarted_(CucumberRuntimeFormatterTestNGFormatter *self, CucumberApiEventTestCaseStarted *event) {
  if (JreLoadStatic(CucumberRuntimeFormatterTestNGFormatter_TestMethod, currentFeatureFile) == nil || ![JreLoadStatic(CucumberRuntimeFormatterTestNGFormatter_TestMethod, currentFeatureFile) isEqual:[((CucumberApiTestCase *) nil_chk(((CucumberApiEventTestCaseStarted *) nil_chk(event))->testCase_)) getUri]]) {
    JreStrongAssign(JreLoadStaticRef(CucumberRuntimeFormatterTestNGFormatter_TestMethod, currentFeatureFile), [((CucumberApiTestCase *) nil_chk(((CucumberApiEventTestCaseStarted *) nil_chk(event))->testCase_)) getUri]);
    JreStrongAssign(JreLoadStaticRef(CucumberRuntimeFormatterTestNGFormatter_TestMethod, previousTestCaseName), @"");
    *JreLoadStaticRef(CucumberRuntimeFormatterTestNGFormatter_TestMethod, exampleNumber) = 1;
    JreStrongAssign(&self->clazz_, [((id<OrgW3cDomDocument>) nil_chk(self->document_)) createElementWithNSString:@"class"]);
    [((id<OrgW3cDomElement>) nil_chk(self->clazz_)) setAttributeWithNSString:@"name" withNSString:[((GherkinAstFeature *) nil_chk([((CucumberRuntimeFormatterTestSourcesModel *) nil_chk(JreLoadStatic(CucumberRuntimeFormatterTestNGFormatter_TestMethod, testSources))) getFeatureWithNSString:[event->testCase_ getUri]])) getName]];
    [((id<OrgW3cDomElement>) nil_chk(self->test_)) appendChildWithOrgW3cDomNode:self->clazz_];
  }
  JreStrongAssign(&self->root_, [((id<OrgW3cDomDocument>) nil_chk(self->document_)) createElementWithNSString:@"test-method"]);
  [((id<OrgW3cDomElement>) nil_chk(self->clazz_)) appendChildWithOrgW3cDomNode:self->root_];
  JreStrongAssignAndConsume(&self->testMethod_, new_CucumberRuntimeFormatterTestNGFormatter_TestMethod_initWithCucumberApiTestCase_(((CucumberApiEventTestCaseStarted *) nil_chk(event))->testCase_));
  CucumberRuntimeFormatterTestNGFormatter_TestMethod_startWithOrgW3cDomElement_(self->testMethod_, self->root_);
}

void CucumberRuntimeFormatterTestNGFormatter_handleTestStepFinishedWithCucumberApiEventTestStepFinished_(CucumberRuntimeFormatterTestNGFormatter *self, CucumberApiEventTestStepFinished *event) {
  if (![((CucumberApiTestStep *) nil_chk(((CucumberApiEventTestStepFinished *) nil_chk(event))->testStep_)) isHook]) {
    [((id<JavaUtilList>) nil_chk(((CucumberRuntimeFormatterTestNGFormatter_TestMethod *) nil_chk(self->testMethod_))->steps_)) addWithId:event->testStep_];
    [((id<JavaUtilList>) nil_chk(((CucumberRuntimeFormatterTestNGFormatter_TestMethod *) nil_chk(self->testMethod_))->results_)) addWithId:event->result_];
  }
  else {
    [((id<JavaUtilList>) nil_chk(((CucumberRuntimeFormatterTestNGFormatter_TestMethod *) nil_chk(self->testMethod_))->hooks_)) addWithId:event->result_];
  }
}

void CucumberRuntimeFormatterTestNGFormatter_handleTestCaseFinished(CucumberRuntimeFormatterTestNGFormatter *self) {
  [((CucumberRuntimeFormatterTestNGFormatter_TestMethod *) nil_chk(self->testMethod_)) finishWithOrgW3cDomDocument:self->document_ withOrgW3cDomElement:self->root_];
}

void CucumberRuntimeFormatterTestNGFormatter_finishReport(CucumberRuntimeFormatterTestNGFormatter *self) {
  @try {
    [((id<OrgW3cDomElement>) nil_chk(self->results_)) setAttributeWithNSString:@"total" withNSString:NSString_java_valueOfInt_(CucumberRuntimeFormatterTestNGFormatter_getElementsCountByAttributeWithOrgW3cDomNode_withNSString_withNSString_(self, self->suite_, @"status", @".*"))];
    [self->results_ setAttributeWithNSString:@"passed" withNSString:NSString_java_valueOfInt_(CucumberRuntimeFormatterTestNGFormatter_getElementsCountByAttributeWithOrgW3cDomNode_withNSString_withNSString_(self, self->suite_, @"status", @"PASS"))];
    [self->results_ setAttributeWithNSString:@"failed" withNSString:NSString_java_valueOfInt_(CucumberRuntimeFormatterTestNGFormatter_getElementsCountByAttributeWithOrgW3cDomNode_withNSString_withNSString_(self, self->suite_, @"status", @"FAIL"))];
    [self->results_ setAttributeWithNSString:@"skipped" withNSString:NSString_java_valueOfInt_(CucumberRuntimeFormatterTestNGFormatter_getElementsCountByAttributeWithOrgW3cDomNode_withNSString_withNSString_(self, self->suite_, @"status", @"SKIP"))];
    [((id<OrgW3cDomElement>) nil_chk(self->suite_)) setAttributeWithNSString:@"name" withNSString:[CucumberRuntimeFormatterTestNGFormatter_class_() getName]];
    [self->suite_ setAttributeWithNSString:@"duration-ms" withNSString:CucumberRuntimeFormatterTestNGFormatter_getTotalDurationWithOrgW3cDomNodeList_(self, [self->suite_ getElementsByTagNameWithNSString:@"test-method"])];
    [((id<OrgW3cDomElement>) nil_chk(self->test_)) setAttributeWithNSString:@"name" withNSString:[CucumberRuntimeFormatterTestNGFormatter_class_() getName]];
    [self->test_ setAttributeWithNSString:@"duration-ms" withNSString:CucumberRuntimeFormatterTestNGFormatter_getTotalDurationWithOrgW3cDomNodeList_(self, [self->suite_ getElementsByTagNameWithNSString:@"test-method"])];
    JavaxXmlTransformTransformer *transformer = [((JavaxXmlTransformTransformerFactory *) nil_chk(JavaxXmlTransformTransformerFactory_newInstance())) newTransformer];
    [((JavaxXmlTransformTransformer *) nil_chk(transformer)) setOutputPropertyWithNSString:JavaxXmlTransformOutputKeys_INDENT withNSString:@"yes"];
    JavaxXmlTransformStreamStreamResult *streamResult = create_JavaxXmlTransformStreamStreamResult_initWithJavaIoWriter_(self->writer_);
    JavaxXmlTransformDomDOMSource *domSource = create_JavaxXmlTransformDomDOMSource_initWithOrgW3cDomNode_(self->document_);
    [transformer transformWithJavaxXmlTransformSource:domSource withJavaxXmlTransformResult:streamResult];
    CucumberRuntimeFormatterTestNGFormatter_closeQuietlyWithJavaIoCloseable_(self->writer_);
  }
  @catch (JavaxXmlTransformTransformerException *e) {
    @throw create_CucumberRuntimeCucumberException_initWithNSString_withJavaLangThrowable_(@"Error transforming report.", e);
  }
}

jint CucumberRuntimeFormatterTestNGFormatter_getElementsCountByAttributeWithOrgW3cDomNode_withNSString_withNSString_(CucumberRuntimeFormatterTestNGFormatter *self, id<OrgW3cDomNode> node, NSString *attributeName, NSString *attributeValue) {
  jint count = 0;
  for (jint i = 0; i < [((id<OrgW3cDomNodeList>) nil_chk([((id<OrgW3cDomNode>) nil_chk(node)) getChildNodes])) getLength]; i++) {
    count += CucumberRuntimeFormatterTestNGFormatter_getElementsCountByAttributeWithOrgW3cDomNode_withNSString_withNSString_(self, [((id<OrgW3cDomNodeList>) nil_chk([node getChildNodes])) itemWithInt:i], attributeName, attributeValue);
  }
  id<OrgW3cDomNamedNodeMap> attributes = [node getAttributes];
  if (attributes != nil) {
    id<OrgW3cDomNode> namedItem = [attributes getNamedItemWithNSString:attributeName];
    if (namedItem != nil && [((NSString *) nil_chk([namedItem getNodeValue])) java_matches:attributeValue]) {
      count++;
    }
  }
  return count;
}

NSString *CucumberRuntimeFormatterTestNGFormatter_getTotalDurationWithOrgW3cDomNodeList_(CucumberRuntimeFormatterTestNGFormatter *self, id<OrgW3cDomNodeList> testCaseNodes) {
  jlong totalDuration = 0;
  for (jint i = 0; i < [((id<OrgW3cDomNodeList>) nil_chk(testCaseNodes)) getLength]; i++) {
    @try {
      NSString *duration = [((id<OrgW3cDomNode>) nil_chk([((id<OrgW3cDomNamedNodeMap>) nil_chk([((id<OrgW3cDomNode>) nil_chk([testCaseNodes itemWithInt:i])) getAttributes])) getNamedItemWithNSString:@"duration-ms"])) getNodeValue];
      totalDuration += JavaLangLong_parseLongWithNSString_(duration);
    }
    @catch (JavaLangNumberFormatException *e) {
      @throw create_CucumberRuntimeCucumberException_initWithJavaLangThrowable_(e);
    }
    @catch (JavaLangNullPointerException *e) {
      @throw create_CucumberRuntimeCucumberException_initWithJavaLangThrowable_(e);
    }
  }
  return NSString_java_valueOfLong_(totalDuration);
}

void CucumberRuntimeFormatterTestNGFormatter_closeQuietlyWithJavaIoCloseable_(id<JavaIoCloseable> outArg) {
  CucumberRuntimeFormatterTestNGFormatter_initialize();
  @try {
    [((id<JavaIoCloseable>) nil_chk(outArg)) close];
  }
  @catch (JavaIoIOException *ignored) {
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberRuntimeFormatterTestNGFormatter)

@implementation CucumberRuntimeFormatterTestNGFormatter_1

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$ {
  CucumberRuntimeFormatterTestNGFormatter_1_initWithCucumberRuntimeFormatterTestNGFormatter_(self, outer$);
  return self;
}

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestSourceRead *)event {
  CucumberRuntimeFormatterTestNGFormatter_handleTestSourceReadWithCucumberApiEventTestSourceRead_(this$0_, event);
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithCucumberRuntimeFormatterTestNGFormatter:);
  methods[1].selector = @selector(receiveWithCucumberApiEventEvent:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LCucumberRuntimeFormatterTestNGFormatter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "receive", "LCucumberApiEventTestSourceRead;", "LCucumberRuntimeFormatterTestNGFormatter;", "Ljava/lang/Object;Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestSourceRead;>;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterTestNGFormatter_1 = { "", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8018, 2, 1, 2, -1, -1, 3, -1 };
  return &_CucumberRuntimeFormatterTestNGFormatter_1;
}

@end

void CucumberRuntimeFormatterTestNGFormatter_1_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_1 *self, CucumberRuntimeFormatterTestNGFormatter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
}

CucumberRuntimeFormatterTestNGFormatter_1 *new_CucumberRuntimeFormatterTestNGFormatter_1_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterTestNGFormatter_1, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

CucumberRuntimeFormatterTestNGFormatter_1 *create_CucumberRuntimeFormatterTestNGFormatter_1_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterTestNGFormatter_1, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

@implementation CucumberRuntimeFormatterTestNGFormatter_2

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$ {
  CucumberRuntimeFormatterTestNGFormatter_2_initWithCucumberRuntimeFormatterTestNGFormatter_(self, outer$);
  return self;
}

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestCaseStarted *)event {
  CucumberRuntimeFormatterTestNGFormatter_handleTestCaseStartedWithCucumberApiEventTestCaseStarted_(this$0_, event);
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithCucumberRuntimeFormatterTestNGFormatter:);
  methods[1].selector = @selector(receiveWithCucumberApiEventEvent:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LCucumberRuntimeFormatterTestNGFormatter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "receive", "LCucumberApiEventTestCaseStarted;", "LCucumberRuntimeFormatterTestNGFormatter;", "Ljava/lang/Object;Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestCaseStarted;>;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterTestNGFormatter_2 = { "", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8018, 2, 1, 2, -1, -1, 3, -1 };
  return &_CucumberRuntimeFormatterTestNGFormatter_2;
}

@end

void CucumberRuntimeFormatterTestNGFormatter_2_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_2 *self, CucumberRuntimeFormatterTestNGFormatter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
}

CucumberRuntimeFormatterTestNGFormatter_2 *new_CucumberRuntimeFormatterTestNGFormatter_2_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterTestNGFormatter_2, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

CucumberRuntimeFormatterTestNGFormatter_2 *create_CucumberRuntimeFormatterTestNGFormatter_2_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterTestNGFormatter_2, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

@implementation CucumberRuntimeFormatterTestNGFormatter_3

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$ {
  CucumberRuntimeFormatterTestNGFormatter_3_initWithCucumberRuntimeFormatterTestNGFormatter_(self, outer$);
  return self;
}

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestStepFinished *)event {
  CucumberRuntimeFormatterTestNGFormatter_handleTestStepFinishedWithCucumberApiEventTestStepFinished_(this$0_, event);
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithCucumberRuntimeFormatterTestNGFormatter:);
  methods[1].selector = @selector(receiveWithCucumberApiEventEvent:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LCucumberRuntimeFormatterTestNGFormatter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "receive", "LCucumberApiEventTestStepFinished;", "LCucumberRuntimeFormatterTestNGFormatter;", "Ljava/lang/Object;Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestStepFinished;>;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterTestNGFormatter_3 = { "", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8018, 2, 1, 2, -1, -1, 3, -1 };
  return &_CucumberRuntimeFormatterTestNGFormatter_3;
}

@end

void CucumberRuntimeFormatterTestNGFormatter_3_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_3 *self, CucumberRuntimeFormatterTestNGFormatter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
}

CucumberRuntimeFormatterTestNGFormatter_3 *new_CucumberRuntimeFormatterTestNGFormatter_3_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterTestNGFormatter_3, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

CucumberRuntimeFormatterTestNGFormatter_3 *create_CucumberRuntimeFormatterTestNGFormatter_3_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterTestNGFormatter_3, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

@implementation CucumberRuntimeFormatterTestNGFormatter_4

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$ {
  CucumberRuntimeFormatterTestNGFormatter_4_initWithCucumberRuntimeFormatterTestNGFormatter_(self, outer$);
  return self;
}

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestCaseFinished *)event {
  CucumberRuntimeFormatterTestNGFormatter_handleTestCaseFinished(this$0_);
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithCucumberRuntimeFormatterTestNGFormatter:);
  methods[1].selector = @selector(receiveWithCucumberApiEventEvent:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LCucumberRuntimeFormatterTestNGFormatter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "receive", "LCucumberApiEventTestCaseFinished;", "LCucumberRuntimeFormatterTestNGFormatter;", "Ljava/lang/Object;Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestCaseFinished;>;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterTestNGFormatter_4 = { "", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8018, 2, 1, 2, -1, -1, 3, -1 };
  return &_CucumberRuntimeFormatterTestNGFormatter_4;
}

@end

void CucumberRuntimeFormatterTestNGFormatter_4_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_4 *self, CucumberRuntimeFormatterTestNGFormatter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
}

CucumberRuntimeFormatterTestNGFormatter_4 *new_CucumberRuntimeFormatterTestNGFormatter_4_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterTestNGFormatter_4, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

CucumberRuntimeFormatterTestNGFormatter_4 *create_CucumberRuntimeFormatterTestNGFormatter_4_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterTestNGFormatter_4, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

@implementation CucumberRuntimeFormatterTestNGFormatter_5

- (instancetype)initWithCucumberRuntimeFormatterTestNGFormatter:(CucumberRuntimeFormatterTestNGFormatter *)outer$ {
  CucumberRuntimeFormatterTestNGFormatter_5_initWithCucumberRuntimeFormatterTestNGFormatter_(self, outer$);
  return self;
}

- (void)receiveWithCucumberApiEventEvent:(CucumberApiEventTestRunFinished *)event {
  CucumberRuntimeFormatterTestNGFormatter_finishReport(this$0_);
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 0, 1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithCucumberRuntimeFormatterTestNGFormatter:);
  methods[1].selector = @selector(receiveWithCucumberApiEventEvent:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", "LCucumberRuntimeFormatterTestNGFormatter;", .constantValue.asLong = 0, 0x1012, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "receive", "LCucumberApiEventTestRunFinished;", "LCucumberRuntimeFormatterTestNGFormatter;", "Ljava/lang/Object;Lcucumber/api/event/EventHandler<Lcucumber/api/event/TestRunFinished;>;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterTestNGFormatter_5 = { "", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0x8018, 2, 1, 2, -1, -1, 3, -1 };
  return &_CucumberRuntimeFormatterTestNGFormatter_5;
}

@end

void CucumberRuntimeFormatterTestNGFormatter_5_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter_5 *self, CucumberRuntimeFormatterTestNGFormatter *outer$) {
  JreStrongAssign(&self->this$0_, outer$);
  NSObject_init(self);
}

CucumberRuntimeFormatterTestNGFormatter_5 *new_CucumberRuntimeFormatterTestNGFormatter_5_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterTestNGFormatter_5, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

CucumberRuntimeFormatterTestNGFormatter_5 *create_CucumberRuntimeFormatterTestNGFormatter_5_initWithCucumberRuntimeFormatterTestNGFormatter_(CucumberRuntimeFormatterTestNGFormatter *outer$) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterTestNGFormatter_5, initWithCucumberRuntimeFormatterTestNGFormatter_, outer$)
}

J2OBJC_INITIALIZED_DEFN(CucumberRuntimeFormatterTestNGFormatter_TestMethod)

@implementation CucumberRuntimeFormatterTestNGFormatter_TestMethod

- (instancetype)initWithCucumberApiTestCase:(CucumberApiTestCase *)scenario {
  CucumberRuntimeFormatterTestNGFormatter_TestMethod_initWithCucumberApiTestCase_(self, scenario);
  return self;
}

- (void)startWithOrgW3cDomElement:(id<OrgW3cDomElement>)element {
  CucumberRuntimeFormatterTestNGFormatter_TestMethod_startWithOrgW3cDomElement_(self, element);
}

- (NSString *)calculateElementNameWithCucumberApiTestCase:(CucumberApiTestCase *)testCase {
  return CucumberRuntimeFormatterTestNGFormatter_TestMethod_calculateElementNameWithCucumberApiTestCase_(self, testCase);
}

- (void)finishWithOrgW3cDomDocument:(id<OrgW3cDomDocument>)doc
               withOrgW3cDomElement:(id<OrgW3cDomElement>)element {
  [((id<OrgW3cDomElement>) nil_chk(element)) setAttributeWithNSString:@"duration-ms" withNSString:CucumberRuntimeFormatterTestNGFormatter_TestMethod_calculateTotalDurationString(self)];
  [element setAttributeWithNSString:@"finished-at" withNSString:[((JavaTextSimpleDateFormat *) nil_chk(JreLoadStatic(CucumberRuntimeFormatterTestNGFormatter, DATE_FORMAT))) formatWithJavaUtilDate:create_JavaUtilDate_init()]];
  JavaLangStringBuilder *stringBuilder = create_JavaLangStringBuilder_init();
  CucumberRuntimeFormatterTestNGFormatter_TestMethod_addStepAndResultListingWithJavaLangStringBuilder_(self, stringBuilder);
  CucumberApiResult *skipped = nil;
  CucumberApiResult *failed = nil;
  for (CucumberApiResult * __strong result in nil_chk(results_)) {
    if ([((CucumberApiResult *) nil_chk(result)) isWithCucumberApiResult_Type:JreLoadEnum(CucumberApiResult_Type, FAILED)] || [result isWithCucumberApiResult_Type:JreLoadEnum(CucumberApiResult_Type, AMBIGUOUS)]) {
      failed = result;
    }
    if ([result isWithCucumberApiResult_Type:JreLoadEnum(CucumberApiResult_Type, UNDEFINED)] || [result isWithCucumberApiResult_Type:JreLoadEnum(CucumberApiResult_Type, PENDING)]) {
      skipped = result;
    }
  }
  for (CucumberApiResult * __strong result in nil_chk(hooks_)) {
    if (failed == nil && [((CucumberApiResult *) nil_chk(result)) isWithCucumberApiResult_Type:JreLoadEnum(CucumberApiResult_Type, FAILED)]) {
      failed = result;
    }
  }
  if (failed != nil) {
    [element setAttributeWithNSString:@"status" withNSString:@"FAIL"];
    JavaIoStringWriter *stringWriter = create_JavaIoStringWriter_init();
    [((JavaLangThrowable *) nil_chk([failed getError])) printStackTraceWithJavaIoPrintWriter:create_JavaIoPrintWriter_initWithJavaIoWriter_(stringWriter)];
    id<OrgW3cDomElement> exception = CucumberRuntimeFormatterTestNGFormatter_TestMethod_createExceptionWithOrgW3cDomDocument_withNSString_withNSString_withNSString_(self, doc, [[((JavaLangThrowable *) nil_chk([failed getError])) java_getClass] getName], [stringBuilder description], [stringWriter description]);
    [element appendChildWithOrgW3cDomNode:exception];
  }
  else if (skipped != nil) {
    if (CucumberRuntimeFormatterTestNGFormatter_TestMethod_treatSkippedAsFailure) {
      [element setAttributeWithNSString:@"status" withNSString:@"FAIL"];
      id<OrgW3cDomElement> exception = CucumberRuntimeFormatterTestNGFormatter_TestMethod_createExceptionWithOrgW3cDomDocument_withNSString_withNSString_withNSString_(self, doc, @"The scenario has pending or undefined step(s)", [stringBuilder description], @"The scenario has pending or undefined step(s)");
      [element appendChildWithOrgW3cDomNode:exception];
    }
    else {
      [element setAttributeWithNSString:@"status" withNSString:@"SKIP"];
    }
  }
  else {
    [element setAttributeWithNSString:@"status" withNSString:@"PASS"];
  }
}

- (NSString *)calculateTotalDurationString {
  return CucumberRuntimeFormatterTestNGFormatter_TestMethod_calculateTotalDurationString(self);
}

- (void)addStepAndResultListingWithJavaLangStringBuilder:(JavaLangStringBuilder *)sb {
  CucumberRuntimeFormatterTestNGFormatter_TestMethod_addStepAndResultListingWithJavaLangStringBuilder_(self, sb);
}

- (id<OrgW3cDomElement>)createExceptionWithOrgW3cDomDocument:(id<OrgW3cDomDocument>)doc
                                                withNSString:(NSString *)clazz
                                                withNSString:(NSString *)message
                                                withNSString:(NSString *)stacktrace {
  return CucumberRuntimeFormatterTestNGFormatter_TestMethod_createExceptionWithOrgW3cDomDocument_withNSString_withNSString_withNSString_(self, doc, clazz, message, stacktrace);
}

- (void)dealloc {
  RELEASE_(steps_);
  RELEASE_(results_);
  RELEASE_(hooks_);
  RELEASE_(scenario_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 1, 2, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x2, 3, 0, -1, -1, -1, -1 },
    { NULL, "V", 0x1, 4, 5, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "V", 0x2, 6, 7, -1, -1, -1, -1 },
    { NULL, "LOrgW3cDomElement;", 0x2, 8, 9, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(initWithCucumberApiTestCase:);
  methods[1].selector = @selector(startWithOrgW3cDomElement:);
  methods[2].selector = @selector(calculateElementNameWithCucumberApiTestCase:);
  methods[3].selector = @selector(finishWithOrgW3cDomDocument:withOrgW3cDomElement:);
  methods[4].selector = @selector(calculateTotalDurationString);
  methods[5].selector = @selector(addStepAndResultListingWithJavaLangStringBuilder:);
  methods[6].selector = @selector(createExceptionWithOrgW3cDomDocument:withNSString:withNSString:withNSString:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "currentFeatureFile", "LNSString;", .constantValue.asLong = 0, 0x8, -1, 10, -1, -1 },
    { "treatSkippedAsFailure", "Z", .constantValue.asLong = 0, 0x8, -1, 11, -1, -1 },
    { "previousTestCaseName", "LNSString;", .constantValue.asLong = 0, 0x8, -1, 12, -1, -1 },
    { "exampleNumber", "I", .constantValue.asLong = 0, 0x8, -1, 13, -1, -1 },
    { "testSources", "LCucumberRuntimeFormatterTestSourcesModel;", .constantValue.asLong = 0, 0x18, -1, 14, -1, -1 },
    { "steps_", "LJavaUtilList;", .constantValue.asLong = 0, 0x10, -1, -1, 15, -1 },
    { "results_", "LJavaUtilList;", .constantValue.asLong = 0, 0x10, -1, -1, 16, -1 },
    { "hooks_", "LJavaUtilList;", .constantValue.asLong = 0, 0x10, -1, -1, 16, -1 },
    { "scenario_", "LCucumberApiTestCase;", .constantValue.asLong = 0, 0x10, -1, -1, -1, -1 },
  };
  static const void *ptrTable[] = { "LCucumberApiTestCase;", "start", "LOrgW3cDomElement;", "calculateElementName", "finish", "LOrgW3cDomDocument;LOrgW3cDomElement;", "addStepAndResultListing", "LJavaLangStringBuilder;", "createException", "LOrgW3cDomDocument;LNSString;LNSString;LNSString;", &CucumberRuntimeFormatterTestNGFormatter_TestMethod_currentFeatureFile, &CucumberRuntimeFormatterTestNGFormatter_TestMethod_treatSkippedAsFailure, &CucumberRuntimeFormatterTestNGFormatter_TestMethod_previousTestCaseName, &CucumberRuntimeFormatterTestNGFormatter_TestMethod_exampleNumber, &CucumberRuntimeFormatterTestNGFormatter_TestMethod_testSources, "Ljava/util/List<Lcucumber/api/TestStep;>;", "Ljava/util/List<Lcucumber/api/Result;>;", "LCucumberRuntimeFormatterTestNGFormatter;" };
  static const J2ObjcClassInfo _CucumberRuntimeFormatterTestNGFormatter_TestMethod = { "TestMethod", "cucumber.runtime.formatter", ptrTable, methods, fields, 7, 0xa, 7, 9, 17, -1, -1, -1, -1 };
  return &_CucumberRuntimeFormatterTestNGFormatter_TestMethod;
}

+ (void)initialize {
  if (self == [CucumberRuntimeFormatterTestNGFormatter_TestMethod class]) {
    JreStrongAssignAndConsume(&CucumberRuntimeFormatterTestNGFormatter_TestMethod_testSources, new_CucumberRuntimeFormatterTestSourcesModel_init());
    J2OBJC_SET_INITIALIZED(CucumberRuntimeFormatterTestNGFormatter_TestMethod)
  }
}

@end

void CucumberRuntimeFormatterTestNGFormatter_TestMethod_initWithCucumberApiTestCase_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, CucumberApiTestCase *scenario) {
  NSObject_init(self);
  JreStrongAssignAndConsume(&self->steps_, new_JavaUtilArrayList_init());
  JreStrongAssignAndConsume(&self->results_, new_JavaUtilArrayList_init());
  JreStrongAssignAndConsume(&self->hooks_, new_JavaUtilArrayList_init());
  JreStrongAssign(&self->scenario_, scenario);
}

CucumberRuntimeFormatterTestNGFormatter_TestMethod *new_CucumberRuntimeFormatterTestNGFormatter_TestMethod_initWithCucumberApiTestCase_(CucumberApiTestCase *scenario) {
  J2OBJC_NEW_IMPL(CucumberRuntimeFormatterTestNGFormatter_TestMethod, initWithCucumberApiTestCase_, scenario)
}

CucumberRuntimeFormatterTestNGFormatter_TestMethod *create_CucumberRuntimeFormatterTestNGFormatter_TestMethod_initWithCucumberApiTestCase_(CucumberApiTestCase *scenario) {
  J2OBJC_CREATE_IMPL(CucumberRuntimeFormatterTestNGFormatter_TestMethod, initWithCucumberApiTestCase_, scenario)
}

void CucumberRuntimeFormatterTestNGFormatter_TestMethod_startWithOrgW3cDomElement_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, id<OrgW3cDomElement> element) {
  [((id<OrgW3cDomElement>) nil_chk(element)) setAttributeWithNSString:@"name" withNSString:CucumberRuntimeFormatterTestNGFormatter_TestMethod_calculateElementNameWithCucumberApiTestCase_(self, self->scenario_)];
  [element setAttributeWithNSString:@"started-at" withNSString:[((JavaTextSimpleDateFormat *) nil_chk(JreLoadStatic(CucumberRuntimeFormatterTestNGFormatter, DATE_FORMAT))) formatWithJavaUtilDate:create_JavaUtilDate_init()]];
}

NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_calculateElementNameWithCucumberApiTestCase_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, CucumberApiTestCase *testCase) {
  NSString *testCaseName = [((CucumberApiTestCase *) nil_chk(testCase)) getName];
  if ([((NSString *) nil_chk(testCaseName)) isEqual:CucumberRuntimeFormatterTestNGFormatter_TestMethod_previousTestCaseName]) {
    return JreStrcat("$CI", testCaseName, '_', ++CucumberRuntimeFormatterTestNGFormatter_TestMethod_exampleNumber);
  }
  else {
    JreStrongAssign(&CucumberRuntimeFormatterTestNGFormatter_TestMethod_previousTestCaseName, testCaseName);
    CucumberRuntimeFormatterTestNGFormatter_TestMethod_exampleNumber = 1;
    return testCaseName;
  }
}

NSString *CucumberRuntimeFormatterTestNGFormatter_TestMethod_calculateTotalDurationString(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self) {
  jlong totalDurationNanos = 0;
  for (CucumberApiResult * __strong r in nil_chk(self->results_)) {
    totalDurationNanos += [((CucumberApiResult *) nil_chk(r)) getDuration] == nil ? 0 : [((JavaLangLong *) nil_chk([r getDuration])) longLongValue];
  }
  for (CucumberApiResult * __strong r in nil_chk(self->hooks_)) {
    totalDurationNanos += [((CucumberApiResult *) nil_chk(r)) getDuration] == nil ? 0 : [((JavaLangLong *) nil_chk([r getDuration])) longLongValue];
  }
  return NSString_java_valueOfLong_(totalDurationNanos / 1000000);
}

void CucumberRuntimeFormatterTestNGFormatter_TestMethod_addStepAndResultListingWithJavaLangStringBuilder_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, JavaLangStringBuilder *sb) {
  for (jint i = 0; i < [((id<JavaUtilList>) nil_chk(self->steps_)) size]; i++) {
    jint length = [((JavaLangStringBuilder *) nil_chk(sb)) java_length];
    NSString *resultStatus = @"not executed";
    if (i < [((id<JavaUtilList>) nil_chk(self->results_)) size]) {
      resultStatus = [((CucumberApiResult_Type *) nil_chk([((CucumberApiResult *) nil_chk([self->results_ getWithInt:i])) getStatus])) lowerCaseName];
    }
    [sb appendWithNSString:JreStrcat("$$", [((CucumberRuntimeFormatterTestSourcesModel *) nil_chk(CucumberRuntimeFormatterTestNGFormatter_TestMethod_testSources)) getKeywordFromSourceWithNSString:CucumberRuntimeFormatterTestNGFormatter_TestMethod_currentFeatureFile withInt:[((CucumberApiTestStep *) nil_chk([self->steps_ getWithInt:i])) getStepLine]], [((CucumberApiTestStep *) nil_chk([self->steps_ getWithInt:i])) getStepText])];
    do {
      [sb appendWithNSString:@"."];
    }
    while ([sb java_length] - length < 76);
    [sb appendWithNSString:resultStatus];
    [sb appendWithNSString:@"\n"];
  }
}

id<OrgW3cDomElement> CucumberRuntimeFormatterTestNGFormatter_TestMethod_createExceptionWithOrgW3cDomDocument_withNSString_withNSString_withNSString_(CucumberRuntimeFormatterTestNGFormatter_TestMethod *self, id<OrgW3cDomDocument> doc, NSString *clazz, NSString *message, NSString *stacktrace) {
  id<OrgW3cDomElement> exceptionElement = [((id<OrgW3cDomDocument>) nil_chk(doc)) createElementWithNSString:@"exception"];
  [((id<OrgW3cDomElement>) nil_chk(exceptionElement)) setAttributeWithNSString:@"class" withNSString:clazz];
  if (message != nil) {
    id<OrgW3cDomElement> messageElement = [doc createElementWithNSString:@"message"];
    [((id<OrgW3cDomElement>) nil_chk(messageElement)) appendChildWithOrgW3cDomNode:[doc createCDATASectionWithNSString:message]];
    [exceptionElement appendChildWithOrgW3cDomNode:messageElement];
  }
  id<OrgW3cDomElement> stacktraceElement = [doc createElementWithNSString:@"full-stacktrace"];
  [((id<OrgW3cDomElement>) nil_chk(stacktraceElement)) appendChildWithOrgW3cDomNode:[doc createCDATASectionWithNSString:stacktrace]];
  [exceptionElement appendChildWithOrgW3cDomNode:stacktraceElement];
  return exceptionElement;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(CucumberRuntimeFormatterTestNGFormatter_TestMethod)
